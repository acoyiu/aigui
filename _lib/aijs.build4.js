!function r(o,i,a){function s(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return s(o[t][1][e]||e)},n,n.exports,r,o,i,a)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(n,e,hn){(function(e,fn){(function(){"use strict";var e,t=n("babel-runtime/regenerator"),nn=(e=t)&&e.__esModule?e:{default:e},rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sn=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cn(e){return function(){var s=e.apply(this,arguments);return new Promise(function(i,a){return function t(e,n){try{var r=s[e](n),o=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});i(o)}("next")})}}function ln(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){var w=this,e=nn.default.mark(Wt);function t(r,o,i){var a=this;if(void 0===r)throw new Error("Mk Error: must has the slot element.");if(void 0===o)throw new Error("Mk Error: must has a callback functions: getTargetEndEvent.");if(!(o instanceof Function))throw new Error("Mk Error: getTargetStartEvent, getTargetMoveEvent, getTargetEndEvent must be a call back function.");this.onSlotObj=null;function s(){var e=o();if(e){if("touchend"!==e.type)throw new Error("Mk Error: callback function getTargetEndEvent must return touchend event");if(!(e instanceof TouchEvent))throw new Error("Mk Error: callback function getTargetEndEvent must return touchend event");var t={x:e.target.getBoundingClientRect().x+e.target.getBoundingClientRect().width/2,y:e.target.getBoundingClientRect().y},n={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY},t=Array.from(document.elementsFromPoint(t.x,t.y)).find(function(e){return e===r}),n=Array.from(document.elementsFromPoint(n.x,n.y)).find(function(e){return e===r});if(void 0===t&&void 0===n||u)e=null;else{if(u=!0,a.onSlotObj=e.target,i&&i(r),null!==o())throw new Error("Mk Error: at the end of onSlotCallBack, touchend Object must be null.");e=null}}window.requestAnimationFrame(s)}var u=!(this.resetSlot=function(){u=!1});window.requestAnimationFrame(s)}function s(e,t,n){dn(this,s);var r=e.parentElement;r.style.position="relative",r.style.overflow="hidden",r.style.width="100%",r.style.height="100%";var o=r.getBoundingClientRect(),i=e.getBoundingClientRect(),a=t?o.height/i.height:o.width/i.width;e.style.position="absolute",e.style.top=e.style.left=0,e.style.transformOrigin="top left",e.style.transform="scale("+a+")",o=r.getBoundingClientRect(),i=e.getBoundingClientRect(),e.style.transform=t?"scale("+a+") translateX("+(o.width-i.width)/2/a+"px)":"scale("+a+") translateY("+(o.height-i.height)/2/a+"px)",n&&(document.body.style.webkitTouchCallout="none",document.addEventListener("contextmenu",function(e){e.preventDefault()},!1),window.onload=function(){document.addEventListener("touchstart",function(e){1<e.touches.length&&e.preventDefault()},{passive:!1});var n=0;document.addEventListener("touchend",function(e){var t=(new Date).getTime();t-n<=300&&e.preventDefault(),n=t},!1)},document.addEventListener("gesturestart",function(e){e.preventDefault()})),this.scaleRatio=a}function S(e){var t,n=e.closest("svg").getAttribute("xmlns"),r=e.parentElement,o=document.createElementNS(n,"g"),i=Array.from(r.children),n=i.indexOf(e);return r.removeChild(e),o.appendChild(e),!(i.length<1)&&(t=r.children[n])?r.insertBefore(o,t):r.appendChild(o),o}function C(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:5,n=(2<arguments.length&&void 0!==arguments[2]&&arguments[2]?e:S(e)).getBBox(),r={};switch(t){case 1:r.x=0,r.y=0;break;case 2:r.x=n.width/2,r.y=0;break;case 3:r.x=n.width,r.y=0;break;case 4:r.x=0,r.y=n.height/2;break;case 5:r.x=n.width/2,r.y=n.height/2;break;case 6:r.x=n.width,r.y=n.height/2;break;case 7:r.x=0,r.y=n.height;break;case 8:r.x=n.width/2,r.y=n.height;break;case 9:r.x=n.width,r.y=n.height}var o=n.x+r.x,i=n.y+r.y,a=[];if("svg"!==e.parentElement.nodeName.toLowerCase())for(a.unshift(e.parentElement);"svg"!==a[0].parentElement.nodeName.toLowerCase();)a.unshift(a[0].parentElement);return a.unshift(e),a.forEach(function(e){e=getComputedStyle(e).transform;"none"!==e&&(0!==(e=e.replace("matrix(","").replace(")","").split(",").map(function(e){return Number(e)}))[4]&&(o-=e[4]),0!==e[5]&&(i-=e[5]))}),o+"px "+i+"px"}function O(e){return a=e.closest("svg"),o=a.viewBox.baseVal,i=a.getBoundingClientRect(),e=1===(e=o.height/i.height)?o.height/window.innerHeight:e}function M(e,t){var n=(r=sn(t,2))[0],t=r[1],r=O(e);return[(n-e.getBoundingClientRect().x)*r,(t-e.getBoundingClientRect().y)*r]}function L(){return new Array(0<arguments.length&&void 0!==arguments[0]?arguments[0]:8).fill("").map(function(){return u.charAt(Math.floor(Math.random()*u.length))}).join("")}function n(e){e.style.opacity=0,e.style.pointerEvents="none"}function r(e){e.style.opacity=1,e.style.pointerEvents="all"}function B(e,t){var a=this,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};dn(this,B);var u=s.gTagProvided?e:S(e);u.style.transformOrigin=C(u,s.transformOrigin||5,!0);var c=0,l=0,i=0,d=0,f=0,h=0,p=1,m=1,r=[];function o(e){for(var t in e){var n=e[t];u.style[t]=n,r.push(t)}r=[].concat(ln(new Set(r)))}function v(t,n){return new Promise(function(e){""!==a.transitionString&&u.addEventListener("transitionend",function(){return requestAnimationFrame(e)},{once:!0}),requestAnimationFrame(function(){t&&o(t),u.style.transform=n?"translate3d("+(c+(g.x||0))+"px, "+(l+(g.y||0))+"px, "+(i+(g.z||0))+"px) scale("+(p+(g.sx||0))+", "+(m+(g.sy||0))+") rotateX("+(d+(g.rx||0))+"deg) rotateY("+(f+(g.ry||0))+"deg) rotateZ("+(h+(g.rz||0))+"deg)":"translate("+(c+(g.x||0))+"px, "+(l+(g.y||0))+"px) scale("+(p+(g.sx||0))+", "+(m+(g.sy||0))+") rotate("+(h+(g.rz||0))+"deg)",""===a.transitionString&&requestAnimationFrame(e)})})}this.transitionString="";var g=t||{};v();var n,y,w,x,_,b,A,k,E=(t=(n=u).getBoundingClientRect(),n=n.closest("svg"),M(n,[t.x,t.y])),T=u.closest("svg");this.transformElement=u,this.element=e,this.current=function(){return{transX:c,transY:l,transZ:i,rotateX:d,rotateY:f,rotateZ:h,scaleX:p,scaleY:m,setCssName:r}},this.update3d=(y=cn(nn.default.mark(function e(t,n){var r,o;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(r=void 0===(r=(o=t||{}).x)?null:r)&&(c=r),null!==(r=void 0===(r=o.y)?null:r)&&(l=r),null!==(r=void 0===(r=o.z)?null:r)&&(i=r),null!==(r=void 0===(r=o.sx)?null:r)&&(p=r),null!==(r=void 0===(r=o.sy)?null:r)&&(m=r),null!==(r=void 0===(r=o.rx)?null:r)&&(d=r),null!==(r=void 0===(r=o.ry)?null:r)&&(f=r),null!==(o=void 0===(o=o.rz)?null:o)&&(h=o),e.next=11,v(n,!0);case 11:return e.abrupt("return",this.current());case 12:case"end":return e.stop()}},e,this)})),function(e,t){return y.apply(this,arguments)}),this.setTransition=function(e){this.transitionString=u.style.transition=e},this.updateCss=function(e){o(e)},this.update=(w=cn(nn.default.mark(function e(t,n){var r,o;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(r=void 0===(r=(o=t||{}).x)?null:r)&&(c=r),null!==(r=void 0===(r=o.y)?null:r)&&(l=r),null!==(r=void 0===(r=o.sx)?null:r)&&(p=r),null!==(r=void 0===(r=o.sy)?null:r)&&(m=r),null!==(o=void 0===(o=o.r)?null:o)&&(h=o),e.next=8,v(n);case 8:return e.abrupt("return",this.current());case 9:case"end":return e.stop()}},e,this)})),function(e,t){return w.apply(this,arguments)}),this.updateBaseOn=(x=cn(nn.default.mark(function e(t){var n=t.x,r=void 0===n?null:n,n=t.y,o=void 0===n?null:n,n=t.sx,i=void 0===n?null:n,n=t.sy,a=void 0===n?null:n,t=t.r,s=void 0===t?null:t;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!==r&&(c+=r),null!==o&&(l+=o),null!==i&&(p+=i),null!==a&&(m+=a),null!==s&&(h+=s),e.next=7,v();case 7:return e.abrupt("return",this.current());case 8:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)}),this.restore=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=l=i=d=f=h=0,p=m=1,r.forEach(function(e){return u.style[e]=""}),e.next=5,v();case 5:return e.abrupt("return",this.current());case 6:case"end":return e.stop()}},e,this)})),this.toCoor=(_=cn(nn.default.mark(function e(t,n){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(isNaN(t)||isNaN(n))return e.abrupt("return",console.error("xCoor, yCoor must be existed."));e.next=2;break;case 2:return e.next=4,this.update({x:t-E[0],y:n-E[1]});case 4:case"end":return e.stop()}},e,this)})),function(e,t){return _.apply(this,arguments)}),this.toCoorViewBox=(b=cn(nn.default.mark(function e(t,n){var r;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(isNaN(t)||isNaN(n))return e.abrupt("return",console.error("xCoor, yCoor must be existed."));e.next=2;break;case 2:return r=M(T,[t,n]),e.next=5,this.update({x:r[0]-E[0],y:r[1]-E[1]});case 5:case"end":return e.stop()}},e,this)})),function(e,t){return b.apply(this,arguments)}),this.boundToRect=(A=cn(nn.default.mark(function e(t){var n,r,o,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.transformOrigin)throw'Mk Error: "boundToRect" only works in center origin mode, but now is '+s.transformOrigin;e.next=2;break;case 2:return o=u.getBBox(),r=o.width>o.height?"width":"height",n="width"==r?t.width/o.width:t.height/o.height,r={width:o.width*n,height:o.height*n},r={x:t.x+(t.width-r.width)/2,y:t.y+(t.height-r.height)/2},o={x:r.x-(o.width-o.width*n)/2,y:r.y-(o.height-o.height*n)/2},e.next=5,a.update({sx:n*i,sy:n*i,x:o.x-E[0],y:o.y-E[1]});case 5:case"end":return e.stop()}},e,a)})),function(e){return A.apply(this,arguments)}),this.loop=(k=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:this.loop(t);case 3:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)}),this.enable=function(){return R(a.transformElement)},this.disable=function(){return P(a.transformElement)},this.highPerformance=function(e){return u.style.willChange=e?"transform, opacity":""},s.needHighPerformance&&this.highPerformance(!0),this.id=L(),this.transformElement.setAttribute("id",this.id),B.AllObjs[this.id]=this}var o,i,a=void 0,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c={showAndClickable:{opacity:1,pointerEvents:"all"},hideAndUnclickable:{opacity:0,pointerEvents:"none"},setHide:function(e){return Array.isArray(e)?e.forEach(n):n(e)},setShow:function(e){return Array.isArray(e)?e.forEach(r):r(e)}},P=c.setHide,R=c.setShow;function l(t,o,e){if(dn(this,l),!0===e){var n=0,i=Array.from(t.children).map(function(e){return e.innerHTML.length>n&&(n=e.innerHTML.length),e.getBBox()});console.log("childrenBbox",i);e=function(n){var r=[];!function(){for(var e=n.split(" "),t=Math.floor(e.length/4)+1;0<e.length;)r.push(e.splice(0,t))}(),Array.from(t.children).forEach(function(e,t){e.innerHTML=r[t]?r[t].join(" "):"";var n=e.getBBox();switch(o){case"left":e.setAttribute("x",0);break;case"center":e.setAttribute("x",-(n.width-i[t].width)/2);break;case"right":e.setAttribute("x",i[t].x+i[t].width-n.width)}})};this.updateText=e,this.element=t}else{var r=new B(t),a=r.transformElement.getBBox(),s=void 0;switch(o){case"left":s=0;break;case"center":s=a.width/2;break;case"right":s=a.width;break;default:throw new Error("Only left, right and center allowed")}this.element=t,this.transformer=r,this.updateText=function(e){switch(t.innerHTML=e,a=r.transformElement.getBBox(),o){case"center":r.update({x:s-a.width/2});break;case"right":r.update({x:-(a.width-s)})}}}}B.AllObjs={};var d=(an(f,[{key:"updateTargetTime",value:function(e){this.targetTime=e}},{key:"start",value:function(){var e=this;this.currentTime===this.targetTime?this.startCb&&this.startCb(this.currentTime):this.resumeCb&&this.resumeCb(this.currentTime),this.timerObj=setInterval(function(){--e.currentTime,0<=e.currentTime?e.secondCb&&e.secondCb(e.currentTime):(e.pause(!0),e.endCb&&e.endCb())},1e3)}},{key:"pause",value:function(e){var t;(t=this.timerObj)?(clearInterval(t),t=null):console.warn("Time is not counting."),this.pauseCb&&!e&&this.pauseCb(this.currentTime)}},{key:"reset",value:function(){return this.pause(),this.currentTime=this.targetTime,this.currentTime}}]),f);function f(e){var t=e.time,n=e.startCb,r=e.secondCb,o=e.endCb,i=e.pauseCb,e=e.resumeCb;dn(this,f),this.targetTime=t||10,this.timerObj=null,this.currentTime=this.targetTime,this.startCb=n,this.secondCb=r,this.endCb=o,this.pauseCb=i,this.resumeCb=e}function h(i,a,s){return new Promise(function(e){switch(!1){case!!i:throw"presentName is absent.";case!!a:throw"lengthOfSpan is absent.";case!!s:throw"playbackCb is absent."}function t(){n--,r+=o,s(v[i](r)),0<n?requestAnimationFrame(t):0===n&&requestAnimationFrame(e)}var n=a/1e3*60,r=0,o=1/n;requestAnimationFrame(t)})}function p(i,a,e,t){var s=this;if(dn(this,p),"x"!==i&&"y"!==i)throw new Error('Direction of gauge must be either "x" or "y".');var n,u=new B(e),c=t?new B(t):null;this.level=(n=cn(nn.default.mark(function e(t){var n,r,o;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a-t*a,l&&d)return r=u.current(),o=n-r["trans"+i.toUpperCase()],e.next=6,h(l,d,function(e){u.update({x:r["trans"+i.toUpperCase()]+o*e}),c&&c.update({x:r["trans"+i.toUpperCase()]+o*e})});e.next=8;break;case 6:e.next=10;break;case 8:u.update(un({},i,n)),c&&c.update(un({},i,n));case 10:case"end":return e.stop()}},e,s)})),function(e){return n.apply(this,arguments)}),this.setTransition=function(e){u.setTransition(e),c&&c.setTransition(e)};var l=void 0,d=void 0;this.setTransitionVP=function(e,t){l=e,d=t},this.level(0)}function m(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(dn(this,m),!e.nodeName)throw new Error("Mk Error: argv 1 must be valid html tag.");var r=n.scaleRatio,o=n.center,r=r||.9;this.transformer=new B(e,null,{transformOrigin:o||8}),this.disabled=!1;var i=void 0,a=void 0;function s(){t.disabled||(t.transformer.update({sx:r,sy:r}),i?i():n.start&&n.start())}function u(){t.disabled||(t.transformer.update({sx:1,sy:1}),a?a():n.end&&n.end())}this.updateCallback=function(e){var t=e.start,e=e.end;t&&(i=t),e&&(a=e)},this.transformer.transformElement.addEventListener("touchstart",s,{passive:!0}),this.transformer.transformElement.addEventListener("touchend",u,!0),this.destoryEventListener=function(){t.transformer.transformElement.removeEventListener("touchend",u,!0),t.transformer.transformElement.removeEventListener("touchstart",s,{passive:!0})},this.id=L(),m.All[this.id]=this}var v={linear:function(e){return e},easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*Math.pow(e,2):(4-2*e)*e-1},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return--e*Math.pow(e,2)+1},easeInOutCubic:function(e){return e<.5?4*Math.pow(e,3):(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return Math.pow(e,3)*e},easeOutQuart:function(e){return 1- --e*Math.pow(e,3)},easeInOutQuart:function(e){return e<.5?8*Math.pow(e,4):1-8*--e*Math.pow(e,3)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return 1+--e*Math.pow(e,3)*e},easeInOutQuint:function(e){return e<.5?16*Math.pow(e,5):1+16*--e*Math.pow(e,3)*e},easeInOutElastic:function(e){var t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1}};function g(){3!==y.playbackState&&y.stop()}m.All={};var y=void 0,x=void 0,_=void 0;function b(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function A(e,u,c,l){if(dn(this,A),!e||!u||!c)throw new Error("Mk Error: Ness params missing.");var t,o,d=new Image,f=void 0,h=!1;fetch(e).then(function(e){return e.blob()}).then(function(e){f=e,t=URL.createObjectURL(f),d.src=t,d.addEventListener("load",function(){return h=!0},{once:!0})}),this.addAtCoor=(o=cn(nn.default.mark(function e(n,r,o,i){var a,s;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return",console.error("Sparker is not ready."));case 2:if((s=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttributeNS("http://www.w3.org/1999/xlink","href",(t=f,window.URL.createObjectURL(t))),s.setAttribute("width",d.naturalWidth),s.setAttribute("height",d.naturalHeight),s.setAttribute("y",-1*d.naturalHeight),(i||c).appendChild(s),a=new B(s),s=o?a.transformElement.getBoundingClientRect():a.transformElement.getBBox(),l&&a.update({sx:l,sy:l}),a.transformElement.style.pointerEvents="none",a.element.style.pointerEvents="none",o)return e.next=16,a.toCoorViewBox(n-s.width/2,r-s.height/2);e.next=18;break;case 16:e.next=20;break;case 18:return e.next=20,a.toCoor(n-s.width/2,r-s.height/2);case 20:return e.abrupt("return",new Promise(function(e){setTimeout(function(){a.transformElement.parentElement.removeChild(a.transformElement),e()},u)}));case 21:case"end":return e.stop()}var t},e,this)})),function(e,t,n,r){return o.apply(this,arguments)}),this.hide=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:transformerObj.transformElement.style.opacity="0",transformerObj.transformElement.style.pointerEvents="none";case 2:case"end":return e.stop()}},e,this)})),this.show=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:transformerObj.transformElement.style.opacity="1",transformerObj.transformElement.style.pointerEvents="auto";case 2:case"end":return e.stop()}},e,this)}))}window.__bgm__cache={};var k,E=void 0,T=(k=cn(nn.default.mark(function e(t,n,r,o){var i,a,s,u;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E=E||new(window.AudioContext||window.webkitAudioContext),x="number"==typeof r?r:.1,_="number"==typeof o?o:.1,window.__bgm__cache[n])return e.abrupt("return",window.__bgm__cache[n]);e.next=5;break;case 5:return i=E,s=a=null,u=n&&"string"==typeof n?n:L(),e.next=8,function(r){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",r,!0),n.responseType="arraybuffer",n.onload=function(){return e(n.response)},n.onerror=t,n.send()})}(t);case 8:return a=e.sent,e.next=11,function(e,n){return new Promise(function(t){e.decodeAudioData(n,function(e){return t(e)})})}(i,a);case 11:return s=e.sent,window.__bgm__cache[u]={name:u,play:function(){return e=i,t=s,y&&3!==y.playbackState&&y.stop(),(y=e.createBufferSource()).buffer=t,y.connect(e.destination),y.start(0),y.loopStart=x,y.loopEnd=t.duration-_,void(y.loop=!0);var e,t},duration:s.duration,stop:g,pause:g},e.abrupt("return",window.__bgm__cache[u]);case 14:case"end":return e.stop()}},e,w)})),function(e,t,n,r){return k.apply(this,arguments)}),N=function(n,r){if(Array.isArray(n))return n.map(function(e){var t=void 0;return 1<(t=(void 0!==r?r:document).querySelectorAll(e)).length?Array.from(t):t[0]});var o={};return Object.keys(n).forEach(function(e){var t=void 0,t=(void 0!==r?r:document).querySelectorAll(n[e]);o[e]=1<t.length?Array.from(t):t[0]}),o};function I(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"all 0.4s linear";if(dn(this,I),"path"!==e.nodeName)throw new Error("Mk Error: svgPath is for svg Path element only.");var n=e.getTotalLength();e.style.strokeDasharray=n,e.style.strokeDashoffset=n,this.play=function(){e.style.transition=t,e.style.strokeDashoffset=0},this.rewind=function(){e.style.transition="",e.style.strokeDashoffset=n}}var D=void 0,F=void 0,j=b();function Y(e,t,n){var r=this;dn(this,Y);var o=n&&n.repeatCount||"indefinite",i=n&&n.rotate||"auto",a=n&&n.fill||"freeze",s=n&&n.dur||"1s";if("path"!==t.nodeName)throw new Error("Mk Error: svgPath is for svg Path element only.");if(!t.id)throw new Error("Mk Error: pathToTrack must come with ID.");var n=e.closest("svg").getAttribute("xmlns"),u=document.createElementNS(n,"animateMotion");u.setAttribute("path",t.getAttribute("d")),u.setAttribute("rotate",i),u.setAttribute("fill",a),u.setAttribute("repeatCount",o),e.appendChild(u);var c={element:e,play:function(){u.setAttribute("dur",s),u.beginElement(),u.beginElementAt(0)},reverse:function(){u.setAttribute("keyPoints","1;0"),u.setAttribute("keyTimes","0;1"),u.setAttribute("calcMode","linear"),u.beginElementAt(0);var e=Number(s.replace("s",""));setTimeout(function(){u.removeAttribute("keyPoints"),u.removeAttribute("keyTimes"),u.removeAttribute("calcMode")},1e3*e)}};Object.keys(c).forEach(function(e){r[e]=c[e]})}function U(e){var i=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,n=arguments[2];if(dn(this,U),console.log("%c Draggable is deprecated, Please use MakeDraggable instead.","font-size: 1.2rem; color: red"),null===e)throw new Error("Mk Error: first element is null.");if(void 0===t)throw new Error("Mk Error: TargetMoveElement is undefinded.");if(this.targetMoveElement=null===t?e:t,!e instanceof SVGElement)throw new Error("Mk Error: Element is not a svg element");if(!this.targetMoveElement instanceof SVGElement)throw new Error("Mk Error: Element is not a svg element");if(!e.closest("svg"))throw new Error("Mk Error: Element is not a svg element");if(!this.targetMoveElement.closest("svg"))throw new Error("Mk Error: TargetMoveElement is not a svg element");if(this.svgElement=e,this.option=void 0===n?{}:n,this.svgTag=this.svgElement.closest("svg"),void 0===this.targetMoveElement.classList[0])throw new Error("Mk Error: TargetMoveElement must has class attribute.");if(n=this.targetMoveElement.tagName+"."+this.targetMoveElement.classList[0],!this.svgElement.closest(n))throw new Error("Mk Error: the first element must be Ancestor of TargetMoveElement.");var a=O(this.svgElement);function r(e){i.option.cbTouchStart&&i.option.cbTouchStart(e);var t=window.getComputedStyle(i.targetMoveElement.parentNode).transform.replace("matrix(","").replace(")","").split(",").map(function(e){return Number(e)});c.x=t[4]||"",c.y=t[5]||"",s={x:e.touches[0].clientX,y:e.touches[0].clientY}}this.targetMoveElementTransformer=new B(this.targetMoveElement);var s=void 0;this.svgElement.addEventListener("touchstart",r,{passive:!0});var u,o,c={x:0,y:0},l=(o=cn(nn.default.mark(function e(t){var n,r,o;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.option.cbTouchMove&&i.option.cbTouchMove(t),n={},u={x:t.touches[0].clientX-s.x,y:t.touches[0].clientY-s.y},i.option.acceptableRange?(o=r=!1,u.x*a+c.x>i.option.acceptableRange[1]?(n.x=i.option.acceptableRange[1],o=!0):n.x=u.x*a+c.x,u.x*a+c.x<i.option.acceptableRange[0]?n.x=i.option.acceptableRange[0]:o||(n.x=u.x*a+c.x),u.y*a+c.y>i.option.acceptableRange[3]?(n.y=i.option.acceptableRange[3],r=!0):n.y=u.y*a+c.y,u.y*a+c.y<i.option.acceptableRange[2]?n.y=i.option.acceptableRange[2]:r||(n.y=u.y*a+c.y)):n={x:u.x*a+c.x,y:u.y*a+c.y},e.next=6,i.targetMoveElementTransformer.update({x:n.x,y:n.y});case 6:case"end":return e.stop()}},e,i)})),function(e){return o.apply(this,arguments)});this.svgElement.addEventListener("touchmove",l,{passive:!0});var d,f=(d=cn(nn.default.mark(function e(t){var n;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.option.cbTouchEnd&&i.option.cbTouchEnd(t,i.targetMoveElement),n=window.getComputedStyle(i.targetMoveElement.parentNode).transform.replace("matrix(","").replace(")","").split(",").map(function(e){return Number(e)}),i.option.backToOriginWhenDrop)return e.next=5,i.targetMoveElementTransformer.restore();e.next=7;break;case 5:e.next=9;break;case 7:c.x=n[4]||"",c.y=n[5]||"";case 9:case"end":return e.stop()}},e,i)})),function(e){return d.apply(this,arguments)});e.addEventListener("touchend",f,!0),this.destoryDraggable=function(){e.removeEventListener("touchstart",r,{passive:!0}),e.removeEventListener("touchmove",l,{passive:!0}),e.removeEventListener("touchend",f,!0)}}function X(e,t,n){var r=this;if(dn(this,X),!n)throw new Error("Mk Error: no states provided.");n.default||console.warn("%c Mk Warn: No default state provided, may cause error in iOS.","background: pink; color: blue");var o=S(e);o.style.transformOrigin=C(o,5,!0);var i,a=t;function s(e){for(var t in e){var n=e[t];o.style[t]=n}}for(i in a&&(o.style.transition=a),n)!function(){var t=n[i];r[i]=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a)return e.next=3,new Promise(function(e){o.addEventListener("transitionend",e,{once:!0}),s(t)});e.next=6;break;case 3:return e.abrupt("return",e.sent);case 6:s(t);case 7:case"end":return e.stop()}},e,r)}))}();this.setTransition=function(e){o.style.transition=e,a=e},this.statedElement=o,t=L(),this._id=t,o.setAttribute("statedcssid",t)}function V(e,t){return e.setAttribute("points",t.filter(function(e){return 0<e.length}).map(function(e){return e[0]+","+e[1]}).join(" "))}function G(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};dn(this,G);var n=document.createElementNS("http://www.w3.org/2000/svg","polyline");n.style.pointerEvents="none",Object.entries(t).forEach(function(e){var t=sn(e,2),e=t[0],t=t[1];n.style[e]=t});var r=[],o=[];e.appendChild(n),this.current=function(e){V(n,[].concat(r,[o=e]))},this.addPoint=function(e){r.push(e),V(n,[].concat(r,[o]))},this.getArr=function(){return r},this.pop=function(){r.pop(),V(n,[].concat(r,[o]))},this.shift=function(){r.shift(),V(n,[].concat(r,[o]))},this.lastPoint=function(){var e=[].concat(r,[o]);return 0<e[e.length-1].length?e[e.length-1]:e[e.length-2]}}function q(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};function r(e){l={x:e.touches[0].clientX,y:e.touches[0].clientY},d=u.current(),f=u.transformElement.getBoundingClientRect(),o&&o(e,u,m)}null===t&&(t=e),("Transformer"!==e.constructor.name||t&&"Transformer"!==t.constructor.name)&&console.warn("DragMoveDrog can only use on AiJs Transformer type instance."),t.highPerformance(!0);var o=n.start,i=n.move,a=n.end,s=e.transformElement,u=t,c=O(s),l=void 0,d=void 0,f=void 0;s.addEventListener("touchstart",r,{passive:!0});var h,p,m=function(){s.removeEventListener("touchstart",r,{passive:!0}),s.removeEventListener("touchmove",v,{passive:!0}),s.removeEventListener("touchend",y,!0)},v=(p=cn(nn.default.mark(function e(t){var n;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=void 0,i)return e.next=5,i(t,u,m);e.next=6;break;case 5:n=e.sent;case 6:if(n)return e.next=9,u.toCoorViewBox(n.x||f.x,n.y||f.y);e.next=11;break;case 9:e.next=14;break;case 11:return h={x:t.touches[0].clientX-l.x,y:t.touches[0].clientY-l.y},e.next=14,u.update({x:h.x*c+d.transX,y:h.y*c+d.transY});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}},e,w,[[0,16]])})),function(e){return p.apply(this,arguments)});s.addEventListener("touchmove",v,{passive:!0});var g,y=(g=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a)return e.next=3,a(t,u,m);e.next=6;break;case 3:if(e.sent){e.next=6;break}return e.next=6,u.restore();case 6:case"end":return e.stop()}},e,w)})),function(e){return g.apply(this,arguments)});return s.addEventListener("touchend",y,!0),m}function H(e,l,d,f,h,o){var p=this;dn(this,H),this._origin_imageObjOfSlot=rn({},l),this._reset=[],this._resetTransformer=[],this._disabled=!1,Object.defineProperty(this,"disabled",{get:function(){return p._disabled},set:function(e){p._disabled=e,Object.values(p.draggableInstance).forEach(function(e){e.transformer.transformElement.style.pointerEvents=p._disabled?"none":"all"})}}),cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object.values(l).map(function(){var t=cn(nn.default.mark(function e(t){var n;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.getAttribute("xlink:href"));case 2:return e.next=4,e.sent.blob();case 4:return n=e.sent,t.dataset.originpath=window.URL.createObjectURL(n),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,p)}));return function(e){return t.apply(this,arguments)}}()));case 2:p._allSlots=e.sent;case 3:case"end":return e.stop()}},e,p)}))(),this.reset=function(){l=rn({},p._origin_imageObjOfSlot),K(p._reset),p._resetTransformer.forEach(function(e){return e.restore()}),p._allSlots.forEach(function(e){return e.setAttributeNS("http://www.w3.org/1999/xlink","href",e.dataset.originpath)}),p._matchArr=[]},this.slotAlreadyMatched=function(){return p._matchArr},this.resetCertain=function(e,r){if(!e||!Array.isArray(e)||e.length<1)return console.warn("There is no keys(Array) specified for reset.");e.forEach(function(n){p._matchArr.forEach(function(e,t){n===e[0][0]&&(e[0][1].setAttributeNS("http://www.w3.org/1999/xlink","href",e[0][1].dataset.originpath),l[e[0][0]]=e[0][1],r&&(K(e[1][2].transformElement),e[1][2].restore()),p._matchArr[t]=null)})}),-1<p._matchArr.indexOf(null)&&(p._matchArr=p._matchArr.filter(function(e){return!!e}))},this._matchArr=[];var t=!0,n=!(this.draggableInstance={}),r=void 0;try{for(var m,i=function(){var e=sn(m.value,2),i=e[0],e=e[1],e=Array.isArray(e)?e:[e,null,null],e=sn(e,3),a=e[0],s=e[1],u=e[2],c=new B(a),e=u?Object.values(u).map(function(e){return"string"==typeof e?e:e.getAttribute("xlink:href")}):s?"string"==typeof s?s:s.getAttribute("xlink:href"):a.getAttribute("xlink:href");Array.isArray(e)?e.forEach(function(e){return ne(e)}):ne(e),p._resetTransformer.includes(c)||p._resetTransformer.push(c);function r(e,t,n){var r=Array.from(document.elementsFromPoint(e,t)),o=Object.values(l).filter(function(e){return r.includes(e)});(o=0<o.length?o[0]:null)&&(t=Object.entries(l).find(function(e){e=sn(e,2),e[0];return e[1]===o})[0],re(o,u?(u[t]||(t="_default"),"string"==typeof u[t]?u[t]:u[t].getAttribute("xlink:href")):s?"string"==typeof s?s:s.getAttribute("xlink:href"):a.getAttribute("xlink:href")),d&&(p._reset.push(c.transformElement),ee(c.transformElement)),p._matchArr.push([[t,o],[i,a,c]]),h({transformerOfDragged:c,nameOfDragged:i,tagOfDragged:a,tagOfSlot:o,nameOfSlot:t,replacer:s,individualer:u||null}),f&&delete l[t])}q(c,null,{start:function(){o&&o.dragStart&&o.dragStart()},end:function(e,t,n){e={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};return r(e.x,e.y),o&&o.dragEnd&&o.dragEnd(),!1}}),p.draggableInstance[i]={transformer:c,checkIsOnSlot:function(){var e=c.transformElement.getBoundingClientRect();r(e.x+e.width/2,e.y+e.height/2)}}},a=Object.entries(e)[Symbol.iterator]();!(t=(m=a.next()).done);t=!0)i()}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}function Z(t,n,r){var o=this;dn(this,Z),console.log("%c EffectSound is DEPRECATED!! ","font-size: 5rem; background: white; color: red"),this._context=null,this._arrayBufferOfFile=null,this._audioBuffer=null,this.name=null,this.awaitPlay=!1,this.play=function(){o.awaitPlay||(o.awaitPlay=!0)},this.isReady=!1,cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o._context=new(window.AudioContext||window.webkitAudioContext),e.next=3,function(r){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",r,!0),n.responseType="arraybuffer",n.onload=function(){return e(n.response)},n.onerror=t,n.send()})}(t);case 3:return o._arrayBufferOfFile=e.sent,e.next=6,function(e,n){return new Promise(function(t){e.decodeAudioData(n,function(e){return t(e)})})}(o._context,o._arrayBufferOfFile);case 6:o._audioBuffer=e.sent,o.name=n&&"string"==typeof n?n:L(),o.play=function(){return e=o._context,t=o._audioBuffer,(n=e.createBufferSource()).buffer=t,n.connect(e.destination),void n.start(0);var e,t,n},o.duration=o._audioBuffer.duration,(Z.All[o.name]=o).isReady=!0,r&&r(o),o.awaitPlay&&o.play();case 14:case"end":return e.stop()}},e,o)}))()}j&&(function(){function e(){this.init()}e.prototype={init:function(){var e=this||D;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||D;if(e=parseFloat(e),t.ctx||d(),void 0!==e&&0<=e&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,D.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=t._howls[n]._soundById(r[o]);i&&i._node&&(i._node.volume=i._volume*e)}return t}return t._volume},mute:function(e){var t=this||D;t.ctx||d(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,D.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=t._howls[n]._soundById(r[o]);i&&i._node&&(i._node.muted=!!e||i._muted)}return t},stop:function(){for(var e=this||D,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||D,t=e._howls.length-1;0<=t;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||D)._codecs[e.replace(/^x-/,"")]},_setup:function(){var t=this||D;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(e){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||D,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),r=r&&parseInt(r[0].split("/")[1],10)<33;return t._codecs={mp3:!(r||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var u=this||D;if(!u._audioUnlocked&&u.ctx){u._audioUnlocked=!1,u.autoUnlock=!1,u._mobileUnloaded||44100===u.ctx.sampleRate||(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050);var e=function t(e){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var n=new Audio;n._unlocked=!0,u._releaseHtml5Audio(n)}catch(e){u.noAudio=!0;break}for(var r=0;r<u._howls.length;r++)if(!u._howls[r]._webAudio)for(var o=u._howls[r]._getSoundIds(),i=0;i<o.length;i++){var a=u._howls[r]._soundById(o[i]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}u._autoResume();var s=u.ctx.createBufferSource();s.buffer=u._scratchBuffer,s.connect(u.ctx.destination),void 0===s.start?s.noteOn(0):s.start(0),"function"==typeof u.ctx.resume&&u.ctx.resume(),s.onended=function(){s.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var e=0;e<u._howls.length;e++)u._howls[e]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),u}},_obtainHtml5Audio:function(){var e=this||D;if(e._html5AudioPool.length)return e._html5AudioPool.pop();e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||D;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&D.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){var e;t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())},t.ctx.suspend().then(e,e))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&D.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}},D=new e,(F=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")}).prototype={init:function(e){var t=this;return D.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=D.usingWebAudio&&!t._html5,void 0!==D.ctx&&D.ctx&&D.autoUnlock&&D._unlockAudio(),D._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(D.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n,r,o=0;o<e._src.length;o++){if(e._format&&e._format[o])n=e._format[o];else{if("string"!=typeof(r=e._src[o])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}n=(n=(n=/^data:audio\/([^;,]+);/i.exec(r))||/\.([^.]+)$/.exec(r.split("?",1)[0]))&&n[1].toLowerCase()}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&D.codecs(n)){t=e._src[o];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&s(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,n){var r=this,e=null;if("number"==typeof t)e=t,t=null;else{if("string"==typeof t&&"loaded"===r._state&&!r._sprite[t])return null;if(void 0===t&&(t="__default",!r._playLock)){for(var o=0,i=0;i<r._sounds.length;i++)r._sounds[i]._paused&&!r._sounds[i]._ended&&(o++,e=r._sounds[i]._id);1===o?t=null:e=null}}var a=e?r._soundById(e):r._inactiveSound();if(!a)return null;if(e&&!t&&(t=a._sprite||"__default"),"loaded"!==r._state){a._sprite=t,a._ended=!1;var s=a._id;return r._queue.push({event:"play",action:function(){r.play(s)}}),s}if(e&&!a._paused)return n||r._loadQueue("play"),a._id;r._webAudio&&D._autoResume();var u=Math.max(0,0<a._seek?a._seek:r._sprite[t][0]/1e3),c=Math.max(0,(r._sprite[t][0]+r._sprite[t][1])/1e3-u),l=1e3*c/Math.abs(a._rate),d=r._sprite[t][0]/1e3,f=(r._sprite[t][0]+r._sprite[t][1])/1e3;a._sprite=t,a._ended=!1;function h(){a._paused=!1,a._seek=u,a._start=d,a._stop=f,a._loop=!(!a._loop&&!r._sprite[t][2])}if(!(f<=u)){var p,m,v=a._node;return r._webAudio?(m=function(){r._playLock=!1,h(),r._refreshBuffer(a);var e=a._muted||r._muted?0:a._volume;v.gain.setValueAtTime(e,D.ctx.currentTime),a._playStart=D.ctx.currentTime,void 0===v.bufferSource.start?a._loop?v.bufferSource.noteGrainOn(0,u,86400):v.bufferSource.noteGrainOn(0,u,c):a._loop?v.bufferSource.start(0,u,86400):v.bufferSource.start(0,u,c),l!=1/0&&(r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),l)),n||setTimeout(function(){r._emit("play",a._id),r._loadQueue()},0)},"running"===D.state&&"interrupted"!==D.ctx.state?m():(r._playLock=!0,r.once("resume",m),r._clearTimer(a._id))):(p=function(){v.currentTime=u,v.muted=a._muted||r._muted||D._muted||v.muted,v.volume=a._volume*D.volume(),v.playbackRate=a._rate;try{var e=v.play();if(e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)?(r._playLock=!0,h(),e.then(function(){r._playLock=!1,v._unlocked=!0,n||(r._emit("play",a._id),r._loadQueue())}).catch(function(){r._playLock=!1,r._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0})):n||(r._playLock=!1,h(),r._emit("play",a._id),r._loadQueue()),v.playbackRate=a._rate,v.paused)return void r._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||a._loop?r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),l):(r._endTimers[a._id]=function(){r._ended(a),v.removeEventListener("ended",r._endTimers[a._id],!1)},v.addEventListener("ended",r._endTimers[a._id],!1))}catch(e){r._emit("playerror",a._id,e)}},"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===v.src&&(v.src=r._src,v.load()),m=window&&window.ejecta||!v.readyState&&D._navigator.isCocoonJS,3<=v.readyState||m?p():(r._playLock=!0,m=function e(){p(),v.removeEventListener(D._canPlayEvent,e,!1)},v.addEventListener(D._canPlayEvent,m,!1),r._clearTimer(a._id))),a._id}r._ended(a)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var i=n._soundById(r[o]);i&&(i._muted=e,i._interval&&n._stopFade(i._id),n._webAudio&&i._node?i._node.gain.setValueAtTime(e?0:i._volume,D.ctx.currentTime):i._node&&(i._node.muted=!!D._muted||e),n._emit("mute",i._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]?0<=r._getSoundIds().indexOf(o[0])?t=parseInt(o[0],10):e=parseFloat(o[0]):2<=o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),!(void 0!==e&&0<=e&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var i=0;i<t.length;i++)(n=r._soundById(t[i]))&&(n._volume=e,o[2]||r._stopFade(t[i]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,D.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*D.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var i=o._getSoundIds(r),a=0;a<i.length;a++){var s,u,c=o._soundById(i[a]);c&&(r||o._stopFade(i[a]),o._webAudio&&!c._muted&&(u=(s=D.ctx.currentTime)+n/1e3,c._volume=e,c._node.gain.setValueAtTime(e,s),c._node.gain.linearRampToValueAtTime(t,u)),o._startFadeInterval(c,e,t,n,i[a],void 0===r))}return o},_startFadeInterval:function(t,n,r,o,e,i){var a=this,s=n,u=r-n,c=Math.abs(u/.01),c=Math.max(4,0<c?o/c:o),l=Date.now();t._fadeTo=r,t._interval=setInterval(function(){var e=(Date.now()-l)/o;l=Date.now(),s+=u*e,s=u<0?Math.max(r,s):Math.min(r,s),s=Math.round(100*s)/100,a._webAudio?t._volume=s:a.volume(s,t._id,!0),i&&(a._volume=s),(r<n&&s<=r||n<r&&r<=s)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(r,t._id),a._emit("fade",t._id))},c)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(D.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e)&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop));return r},rate:function(){var e,t,n=this,r=arguments;if(0===r.length?t=n._sounds[0]._id:1===r.length?0<=n._getSoundIds().indexOf(r[0])?t=parseInt(r[0],10):e=parseFloat(r[0]):2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10)),"number"!=typeof e)return((i=n._soundById(t))||n)._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,r)}}),n;void 0===t&&(n._rate=e),t=n._getSoundIds(t);for(var o,i,a=0;a<t.length;a++)(i=n._soundById(t[a]))&&(n.playing(t[a])&&(i._rateSeek=n.seek(t[a]),i._playStart=n._webAudio?D.ctx.currentTime:i._playStart),i._rate=e,n._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(e,D.ctx.currentTime):i._node&&(i._node.playbackRate=e),o=n.seek(t[a]),o=1e3*((n._sprite[i._sprite][0]+n._sprite[i._sprite][1])/1e3-o)/Math.abs(i._rate),!n._endTimers[t[a]]&&i._paused||(n._clearTimer(t[a]),n._endTimers[t[a]]=setTimeout(n._ended.bind(n,i),o)),n._emit("rate",i._id));return n},seek:function(){var e,t,n=this,r=arguments;if(0===r.length?t=n._sounds[0]._id:1===r.length?0<=n._getSoundIds().indexOf(r[0])?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0])):2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10)),void 0===t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(t);if(o){if(!("number"==typeof e&&0<=e)){if(n._webAudio){var i=n.playing(t)?D.ctx.currentTime-o._playStart:0,a=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(a+i*Math.abs(o._rate))}return o._node.currentTime}var s=n.playing(t);s&&n.pause(t,!0),o._seek=e,o._ended=!1,n._clearTimer(t),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var u=function(){n._emit("seek",t),s&&n.play(t,!0)};s&&!n._webAudio?(o=function e(){n._playLock?setTimeout(e,0):u()},setTimeout(o,0)):u()}return n},playing:function(e){if("number"==typeof e){e=this._soundById(e);return!!e&&!e._paused}for(var t=0;t<this._sounds.length;t++)if(!this._sounds[t]._paused)return!0;return!1},duration:function(e){var t=this._duration,e=this._soundById(e);return t=e?this._sprite[e._sprite][1]/1e3:t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(D._canPlayEvent,t[n]._loadFn,!1),D._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=D._howls.indexOf(e);0<=r&&D._howls.splice(r,1);for(var o=!0,n=0;n<D._howls.length;n++)if(D._howls[n]._src===e._src||0<=e._src.indexOf(D._howls[n]._src)){o=!1;break}return a&&o&&delete a[e._src],D.noAudio=!1,e._state="unloaded",e._sounds=[],e=null},on:function(e,t,n,r){e=this["_on"+e];return"function"==typeof t&&e.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(t===o[i].fn&&a||!t&&a){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else for(var s=Object.keys(r),i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(r[s[i]])&&(r[s[i]]=[]);return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;0<=i;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t,n=this;return 0<n._queue.length&&((t=n._queue[0]).event===e&&(n._queue.shift(),n._loadQueue()),e||t.action()),n},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);return t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r&&(t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=D.ctx.currentTime,n=1e3*(e._stop-e._start)/Math.abs(e._rate),t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),n)),t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),D._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t,n=this;return n._endTimers[e]&&("function"!=typeof n._endTimers[e]?clearTimeout(n._endTimers[e]):(t=n._soundById(e))&&t._node&&t._node.removeEventListener("ended",n._endTimers[e],!1),delete n._endTimers[e]),n},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;0<=r;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0!==e)return[e];for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t},_refreshBuffer:function(e){return e._node.bufferSource=D.ctx.createBufferSource(),e._node.bufferSource.buffer=a[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,D.ctx.currentTime),this},_cleanBuffer:function(e){var t=D._navigator&&0<=D._navigator.vendor.indexOf("Apple");if(D._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=D._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(D._navigator&&D._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++D._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=D._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===D.ctx.createGain?D.ctx.createGainNode():D.ctx.createGain(),e._node.gain.setValueAtTime(n,D.ctx.currentTime),e._node.paused=!0,e._node.connect(D.masterGain)):D.noAudio||(e._node=D._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(D._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*D.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++D._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(D._canPlayEvent,this._loadFn,!1)}};var a={},s=function(t){var e=t._src;if(a[e])return t._duration=a[e].duration,void l(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);c(r.buffer,t)}else{var i=new XMLHttpRequest;i.open(t._xhr.method,e,!0),i.withCredentials=t._xhr.withCredentials,i.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach(function(e){i.setRequestHeader(e,t._xhr.headers[e])}),i.onload=function(){var e=(i.status+"")[0];"0"===e||"2"===e||"3"===e?c(i.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete a[e],t.load())},u(i)}},u=function(t){try{t.send()}catch(e){t.onerror()}},c=function(e,t){function n(){t._emit("loaderror",null,"Decoding audio data failed.")}function r(e){e&&0<t._sounds.length?(a[t._src]=e,l(t,e)):n()}"undefined"!=typeof Promise&&1===D.ctx.decodeAudioData.length?D.ctx.decodeAudioData(e).then(r).catch(n):D.ctx.decodeAudioData(e,r,n)},l=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},d=function(){if(D.usingWebAudio){try{"undefined"!=typeof AudioContext?D.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?D.ctx=new webkitAudioContext:D.usingWebAudio=!1}catch(e){D.usingWebAudio=!1}D.ctx||(D.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(D._navigator&&D._navigator.platform),t=D._navigator&&D._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=t?parseInt(t[1],10):null;e&&t&&t<9&&(t=/safari/.test(D._navigator&&D._navigator.userAgent.toLowerCase()),D._navigator&&!t&&(D.usingWebAudio=!1)),D.usingWebAudio&&(D.masterGain=void 0===D.ctx.createGain?D.ctx.createGainNode():D.ctx.createGain(),D.masterGain.gain.setValueAtTime(D._muted?0:D._volume,D.ctx.currentTime),D.masterGain.connect(D.ctx.destination)),D._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:D,Howl:F}}),void 0!==hn&&(hn.Howler=D,hn.Howl=F),void 0!==fn?(fn.HowlerGlobal=e,fn.Howler=D,fn.Howl=F,fn.Sound=i):"undefined"!=typeof window&&(window.HowlerGlobal=e,window.Howler=D,window.Howl=F,window.Sound=i)}(),function(){var n,r,o;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;0<=n;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],D.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],D.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],D.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,i="number"!=typeof i?s[5]:i,"number"!=typeof e?s:(a._orientation=[e,t,n,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,D.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,D.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,D.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,D.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,D.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,D.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,o,i),a)},F.prototype.init=(n=F.prototype.init,function(e){var t=this;return t._orientation=e.orientation||[1,0,0],t._stereo=e.stereo||null,t._pos=e.pos||null,t._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},t._onstereo=e.onstereo?[{fn:e.onstereo}]:[],t._onpos=e.onpos?[{fn:e.onpos}]:[],t._onorientation=e.onorientation?[{fn:e.onorientation}]:[],n.call(this,e)}),F.prototype.stereo=function(e,t){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,t)}}),n;var r=void 0===D.ctx.createStereoPanner?"spatial":"stereo";if(void 0===t){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var o=n._getSoundIds(t),i=0;i<o.length;i++){var a=n._soundById(o[i]);if(a){if("number"!=typeof e)return a._stereo;a._stereo=e,a._pos=[e,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||c(a,r),"spatial"==r?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(e,D.ctx.currentTime),a._panner.positionY.setValueAtTime(0,D.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,D.ctx.currentTime)):a._panner.setPosition(e,0,0):a._panner.pan.setValueAtTime(e,D.ctx.currentTime)),n._emit("stereo",a._id)}}return n},F.prototype.pos=function(e,t,n,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,t,n,r)}}),o;if(t="number"!=typeof t?0:t,n="number"!=typeof n?-.5:n,void 0===r){if("number"!=typeof e)return o._pos;o._pos=[e,t,n]}for(var i=o._getSoundIds(r),a=0;a<i.length;a++){var s=o._soundById(i[a]);if(s){if("number"!=typeof e)return s._pos;s._pos=[e,t,n],s._node&&(s._panner&&!s._panner.pan||c(s,"spatial"),void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,D.ctx.currentTime),s._panner.positionY.setValueAtTime(t,D.ctx.currentTime),s._panner.positionZ.setValueAtTime(n,D.ctx.currentTime)):s._panner.setPosition(e,t,n)),o._emit("pos",s._id)}}return o},F.prototype.orientation=function(e,t,n,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,t,n,r)}}),o;if(t="number"!=typeof t?o._orientation[1]:t,n="number"!=typeof n?o._orientation[2]:n,void 0===r){if("number"!=typeof e)return o._orientation;o._orientation=[e,t,n]}for(var i=o._getSoundIds(r),a=0;a<i.length;a++){var s=o._soundById(i[a]);if(s){if("number"!=typeof e)return s._orientation;s._orientation=[e,t,n],s._node&&(s._panner||(s._pos||(s._pos=o._pos||[0,0,-.5]),c(s,"spatial")),void 0!==s._panner.orientationX?(s._panner.orientationX.setValueAtTime(e,D.ctx.currentTime),s._panner.orientationY.setValueAtTime(t,D.ctx.currentTime),s._panner.orientationZ.setValueAtTime(n,D.ctx.currentTime)):s._panner.setOrientation(e,t,n)),o._emit("orientation",s._id)}}return o},F.prototype.pannerAttr=function(){var e,t,n=this,r=arguments;if(!n._webAudio)return n;if(0===r.length)return n._pannerAttr;if(1===r.length){if("object"!==on(r[0]))return((a=n._soundById(parseInt(r[0],10)))||n)._pannerAttr;e=r[0],void 0===t&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),n._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:n._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:n._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:n._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:n._panningModel})}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var o,i,a,s=n._getSoundIds(t),u=0;u<s.length;u++)(a=n._soundById(s[u]))&&(o=a._pannerAttr,o={coneInnerAngle:(void 0!==e.coneInnerAngle?e:o).coneInnerAngle,coneOuterAngle:(void 0!==e.coneOuterAngle?e:o).coneOuterAngle,coneOuterGain:(void 0!==e.coneOuterGain?e:o).coneOuterGain,distanceModel:(void 0!==e.distanceModel?e:o).distanceModel,maxDistance:(void 0!==e.maxDistance?e:o).maxDistance,refDistance:(void 0!==e.refDistance?e:o).refDistance,rolloffFactor:(void 0!==e.rolloffFactor?e:o).rolloffFactor,panningModel:(void 0!==e.panningModel?e:o).panningModel},(i=a._panner)?(i.coneInnerAngle=o.coneInnerAngle,i.coneOuterAngle=o.coneOuterAngle,i.coneOuterGain=o.coneOuterGain,i.distanceModel=o.distanceModel,i.maxDistance=o.maxDistance,i.refDistance=o.refDistance,i.rolloffFactor=o.rolloffFactor,i.panningModel=o.panningModel):(a._pos||(a._pos=n._pos||[0,0,-.5]),c(a,"spatial")));return n},Sound.prototype.init=(r=Sound.prototype.init,function(){var e=this,t=e._parent;e._orientation=t._orientation,e._stereo=t._stereo,e._pos=t._pos,e._pannerAttr=t._pannerAttr,r.call(this),e._stereo?t.stereo(e._stereo):e._pos&&t.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}),Sound.prototype.reset=(o=Sound.prototype.reset,function(){var e=this,t=e._parent;return e._orientation=t._orientation,e._stereo=t._stereo,e._pos=t._pos,e._pannerAttr=t._pannerAttr,e._stereo?t.stereo(e._stereo):e._pos?t.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,t._refreshBuffer(e)),o.call(this)});var c=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=D.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],D.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],D.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],D.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],D.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],D.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],D.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=D.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,D.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}());var W,z,Q={},J=void 0,$=function(e,a){console.log("%c UseAudio is DEPRECATED!! ","font-size: 3rem; background: white; color: red");var s=a&&a.loop||!1,u=a&&a.designatedName||null,c=a&&a.containerDiv||null;if("string"!=typeof e&&!Array.isArray(e))throw new Error("Mk Error: addAudio only takes string and array of string.");e=(e=Array.isArray(e)?e:[e]).map(function(e){return{name:e.split("/").pop().split(".").shift(),path:e}});if(u&&1<e.length)throw new Error("Mk Error: designatedName can only use with one source at a time.");var l=void 0;return c?(l=c.querySelector("div#audioContainer"))||((l=document.createElement("div")).setAttribute("id","audioContainer"),c.appendChild(l)):J||((J=document.createElement("div")).style.display="none",J.setAttribute("id","rootAudioContainer"),document.body.appendChild(J)),e.forEach(function(e){var n=document.createElement("audio");n.setAttribute("src",e.path),s&&n.setAttribute("loop",!0),(c?l:J).appendChild(n);var r=void 0;j&&(r=new F({src:[e.path]}));var t,o=j,i=a&&!0===a.osIgnore;Q[null!==u?u:e.name]={logIt:function(){return n},pause:function(){n&&n.pause(),r&&(r.stop(),r.pause())},rewind:function(){return n.currentTime=0},play:(t=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i)return e.next=4,n.play();e.next=6;break;case 4:e.next=18;break;case 6:if(j){e.next=11;break}return e.next=9,n.play();case 9:e.next=18;break;case 11:if(o)return o=!1,e.next=15,n.play();e.next=17;break;case 15:e.next=18;break;case 17:r.pause(),r.play();case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",e.t0);case 24:case"end":return e.stop()}},e,w,[[0,20]])})),function(){return t.apply(this,arguments)}),playFromStart:function(){var t=this;return cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pause(),t.rewind(),e.prev=2,i)return e.next=6,n.play();e.next=8;break;case 6:e.next=20;break;case 8:if(j){e.next=13;break}return e.next=11,n.play();case 11:e.next=20;break;case 13:if(o)return o=!1,e.next=17,n.play();e.next=19;break;case 17:e.next=20;break;case 19:r.play();case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(2),console.warn(e.t0),e.abrupt("return",e.t0);case 26:case"end":return e.stop()}},e,t,[[2,22]])}))()}}}),Q},K=c.setShow,ee=c.setHide,te={},ne=(W=cn(nn.default.mark(function e(t){var n;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(te[t]){e.next=13;break}return e.prev=1,e.next=4,fetch(t);case 4:return e.next=6,e.sent.blob();case 6:n=e.sent,te[t]=window.URL.createObjectURL(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.warn(e.t0);case 13:case"end":return e.stop()}},e,w,[[1,10]])})),function(e){return W.apply(this,arguments)}),re=(z=cn(nn.default.mark(function e(t,n){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.setAttributeNS("http://www.w3.org/1999/xlink","href",te[n]||n);case 1:case"end":return e.stop()}},e,w)})),function(e,t){return z.apply(this,arguments)});function oe(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};dn(this,oe),console.log("%c NormalSound is DEPRECATED!! ","font-size: 5rem; background: white; color: red");var r=n.containerDiv,o=n.volume,i=n.loop;this.audioTag=ce[e]&&document.querySelector("audio"+ce[e].id)?ce[e]:((n=document.createElement("audio")).setAttribute("src",e),n.setAttribute("id",L()),o&&n.setAttribute("volume",o),i&&n.setAttribute("loop",i),(r||document.body).appendChild(n),ce[e]=n),this.play=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.audioTag.play();case 3:return e.abrupt("return");case 6:return e.prev=6,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,t,[[0,6]])})),this.pause=function(){t.audioTag.pause()},this.rewind=function(){t.pause(),t.audioTag.currentTime=0},this.playFromStart=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.rewind(),e.next=3,t.play();case 3:case"end":return e.stop()}},e,t)})),this.remove=function(){t.audioTag.parentElement&&t.audioTag.parentElement.removeChild(t.audioTag)}}function ie(r,o){var t=this;dn(this,ie),Object.keys(o).map(function(e){var t=o[e];return"string"==typeof t?[e,t]:Array.isArray(t)&&2===t.length&&"string"==typeof t[0]&&"function"==typeof t[1]?[e,t[0]]:function(){throw new Error("Mk Error: Structure error.")}()}).forEach(function(e){var e=sn(e,2),t=e[0],e=e[1];fetch(e).then(function(e){return e.blob()}).then(function(e){return de[t]=e}).catch(function(e){return console.error(e)})});var e=r.getAttribute("xlink:href"),i={};if(Object.keys(o).forEach(function(e){function t(){try{return r.setAttributeNS("http://www.w3.org/1999/xlink","href",window.URL.createObjectURL(de[e])),!0}catch(e){return!1}}var n=o[e];i[e]=function(){requestAnimationFrame(function(){var e;t()||(e=null,e=setInterval(function(){t()&&(clearInterval(e),e=null)},250))}),"function"==typeof n[1]&&n[1](i)}}),i.hide||i.default)throw new Error("Mk Error: hide and default keys are reserved");i=rn({},i,{hide:function(){requestAnimationFrame(function(){return r.setAttribute("xlink:href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////AAAAVcLTfgAAAAF0Uk5TAEDm2GYAAAAOSURBVHjaYmCgJwAIMAAAbgABHA/EkAAAAABJRU5ErkJggg==")})},default:function(){requestAnimationFrame(function(){return r.setAttribute("xlink:href",e)})}});var n=L();i._id=n,r.setAttribute("statedimageid",n),Object.keys(i).forEach(function(e){t[e]=i[e]})}function ae(a,r,s){var u=this;if(dn(this,ae),!Array.isArray(a))return console.error("imageElements must be instance of Array.");this.maxLevel=a.length,this.transformersOfEle=a.map(function(e){return new B(e)}),this.level=function(){return console.warn("Level function is not yet ready.")},cn(nn.default.mark(function e(){var t,n,o,i;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(r)||!Array.isArray(s)){e.next=15;break}if(r.length!==s.length)return e.abrupt("return",console.error("replacer length must match the length of originer."));e.next=3;break;case 3:return e.next=5,Promise.all(r.map(function(){var t=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=window.URL,e.next=3,fetch(t);case 3:return e.next=5,e.sent.blob();case 5:return e.t1=e.sent,e.abrupt("return",e.t0.createObjectURL.call(e.t0,e.t1));case 7:case"end":return e.stop()}},e,u)}));return function(e){return t.apply(this,arguments)}}()));case 5:return t=e.sent,console.log("replacerBlobLink_s",t),e.next=9,Promise.all(s.map(function(){var t=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=window.URL,e.next=3,fetch(t);case 3:return e.next=5,e.sent.blob();case 5:return e.t1=e.sent,e.abrupt("return",e.t0.createObjectURL.call(e.t0,e.t1));case 7:case"end":return e.stop()}},e,u)}));return function(e){return t.apply(this,arguments)}}()));case 9:n=e.sent,console.log("originBlobLink_s",n),t.forEach(function(e,t){a[t].setAttributeNS("http://www.w3.org/1999/xlink","href",e),a[t].dataset.pathreplace=e,a[t].dataset.pathorigin=n[t]}),u.level=function(n,e){if(n<0||n>a.length)return console.warn("level of step out of range.");var r=[];a.forEach(function(e,t){n<=t?e.getAttribute("xlink:href")!==e.dataset.pathreplace&&(e.setAttributeNS("http://www.w3.org/1999/xlink","href",e.dataset.pathreplace),r.push(t)):e.getAttribute("xlink:href")!==e.dataset.pathorigin&&(e.setAttributeNS("http://www.w3.org/1999/xlink","href",e.dataset.pathorigin),r.push(t))}),e&&e(r.map(function(e){return u.transformersOfEle[e]}))},e.next=54;break;case 15:if(i=o=void 0,"string"==typeof r)return e.t0=window.URL,e.next=20,fetch(r);e.next=26;break;case 20:return e.next=22,e.sent.blob();case 22:e.t1=e.sent,o=e.t0.createObjectURL.call(e.t0,e.t1),e.next=34;break;case 26:if("object"===(void 0===r?"undefined":on(r)))return e.t2=window.URL,e.next=30,fetch(r.getAttribute("xlink:href"));e.next=34;break;case 30:return e.next=32,e.sent.blob();case 32:e.t3=e.sent,o=e.t2.createObjectURL.call(e.t2,e.t3);case 34:if("string"==typeof s)return e.t4=window.URL,e.next=38,fetch(s);e.next=44;break;case 38:return e.next=40,e.sent.blob();case 40:e.t5=e.sent,i=e.t4.createObjectURL.call(e.t4,e.t5),e.next=52;break;case 44:if("object"===(void 0===s?"undefined":on(s)))return e.t6=window.URL,e.next=48,fetch(s.getAttribute("xlink:href"));e.next=52;break;case 48:return e.next=50,e.sent.blob();case 50:e.t7=e.sent,i=e.t6.createObjectURL.call(e.t6,e.t7);case 52:a.forEach(function(e){return e.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}),u.level=function(n,e){if(n<0||n>a.length)return console.warn("level of step out of range.");var r=[];a.forEach(function(e,t){n<=t?e.getAttribute("xlink:href")!==o&&(e.setAttributeNS("http://www.w3.org/1999/xlink","href",o),r.push(t)):e.getAttribute("xlink:href")!==i&&(e.setAttributeNS("http://www.w3.org/1999/xlink","href",i),r.push(t))}),e&&e(r.map(function(e){return u.transformersOfEle[e]}))};case 54:case"end":return e.stop()}},e,u)}))()}function se(e,t,n){var r=this;dn(this,se),this.elementImage=e;var o=0,i=e.getAttribute("xlink:href"),a=[i].concat(ln(t)),s={toNext:function(){(o+=1)>=t.length&&(o=t.length,console.warn("sequence reached end."),n&&"function"==typeof n&&n()),requestAnimationFrame(function(){e.setAttribute("xlink:href",a[o])})},toPrev:function(){0<--o?requestAnimationFrame(function(){e.setAttribute("xlink:href",a[o])}):o<=0&&(o=0,console.warn("sequence reached head."),requestAnimationFrame(function(){e.setAttribute("xlink:href",i)}))},toFirst:function(){o=0,requestAnimationFrame(function(){e.setAttribute("xlink:href",i)})},hide:function(){o=0,requestAnimationFrame(function(){e.setAttribute("xlink:href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////AAAAVcLTfgAAAAF0Uk5TAEDm2GYAAAAOSURBVHjaYmCgJwAIMAAAbgABHA/EkAAAAABJRU5ErkJggg==")})}},u=L();s._id=u,e.setAttribute("statedimageid",u),Object.keys(s).forEach(function(e){r[e]=s[e]})}Z.All={};var ue,ce={},le=function(){return{listener:{},on:function(e,t){if("string"!=typeof e)throw new Error('Marker must be typed "String".');if("function"!=typeof t)throw new Error("Listener must be a function.");return this.listener[e]||(this.listener[e]=[]),this.listener[e].push(t),!0},off:function(e,t){var n=this;if(!e)return function(){n.listener={},console.log("All listener removed.")};if(!t)return delete this.listener[e],void console.log("Listener key: "+e+" has been removed.");t=this.listener[e].indexOf(t);if(t<0)return console.warn("Target remove element not found.");this.listener[e].splice(t,1),console.log("Target remove element removed.")},emit:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!(!this.listener[e]||!Array.isArray(this.listener[e])||this.listener[e].length<1)&&(this.listener[e].forEach(function(e){return e(n)}),!0)}}},de={};function fe(e,t,n){if(void 0===n&&(n={}),void 0===e)throw new Error("Mk Error: moveToMarker - elementThatMove is undefind.");if(void 0===t)throw new Error("Mk Error: moveToMarker - markerToMove is undefind.");if(!e instanceof SVGElement)throw new Error("Mk Error: moveToMarker - elementThatMove is not a SVG element.");if(!t instanceof SVGElement)throw new Error("Mk markerToMove Error: elementThatMove is not a SVG element.");var r=window.getComputedStyle(t).transform;if(r&&"none"!==r)throw new Error("Mk Error: moveToMarker - markerToMove with transform style is not allowed.");var o=window.getComputedStyle(e).transform,i=void 0,a=void 0,s=t.getBBox(),r=n.offset||{x:0,y:0};o&&"none"===o?(i=e.getBBox(),a={x:s.x+s.width/2-(i.x+i.width/2),y:s.y+s.height/2-(i.y+i.height/2)},e.style.transform="translate("+(a.x+r.x)+"px, "+(a.y+r.y)+"px)"):(t=o.replace("matrix(","").replace(")","").split(","),n=e.getBBox().x+e.getBBox().width/2,o=e.getBBox().y+e.getBBox().height/2,i={x:n+Number(t[4]),y:o+Number(t[5])},a={x:s.x+s.width/2-i.x,y:s.y+s.height/2-i.y},e.style.transform="translate("+(Number(t[4])+a.x+r.x)+"px, "+(Number(t[5])+a.y+r.y)+"px)")}function he(e){var t=e.getBoundingClientRect(),e=O(e);return t.x*e*-1}function pe(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new Error("Entered Vector2 is/are not in Array type.");var n,r,o,i=(r=t,i=sn(n=e,2),o=i[0],n=i[1],i=sn(r,2),r=i[0],i=i[1],r=Math.abs(o-r),i=Math.abs(n-i),Math.hypot(r,i));return[(t=[e[0]-t[0],e[1]-t[1]])[0]/i,t[1]/i]}function me(h,e,t){dn(this,me),0<me.instance.length&&console.warn("RangeCollider better be only one instance in scene.");var n=new B(h);this.transformerObj=n,Array.from(e.children).forEach(function(e){if("polygon"!==e.nodeName)throw"Only polygon svg tag allowed.";e.classList.add("blockage")});var p,m,i,a=O(h.farthestViewportElement),s=(e=he(h.farthestViewportElement)).x||0,u=e.y||0,v=void 0,g=0,y=0,w=void 0,x=void 0,_=void 0,b=void 0,A=void 0,k=void 0,E=void 0,T=void 0,S=t.speed||5,t=function e(){var t,n,r,o,i,a,s,u,c,l,d,f;v&&(m=h.getBoundingClientRect(),p={x:m.x+m.width/2,y:m.y+m.height/2},d=p,f=v,Math.sqrt(Math.pow(d.x-f.x,2)+Math.pow(d.y-f.y,2))<S||(c=p,l=v,w=180*Math.atan2(l.y-c.y,l.x-c.x)/Math.PI,x=w*(Math.PI/180),i=p.x,a=p.y,u=x,_={x:(s=S)*Math.cos(u)+i,y:s*Math.sin(u)+a},!(m={x:(o=_).x-p.x,y:_.y-p.y})!==(b=!(2<=(ue=document.elementsFromPoint(o.x,o.y).filter(function(e){return e.classList.contains("blockage")})).length)&&(1!==ue.length||ue[0]))&&(!0===b?(g+=m.x,y+=m.y,M()):(A=(A=C(b,p,m))||T)&&(t=v.x,n=v.y,r=A[0].x,d=A[0].y,f=A[1].x,l=A[1].y,c=-1,s=i=void 0,s=(c=0!=(o=(u=f-r)*u+(a=l-d)*a)?((t-r)*u+(n-d)*a)/o:c)<0?(i=r,d):1<c?(i=f,l):(i=r+c*u,d+c*a),m=pe([(k={x:i,y:s}).x,k.y],[v.x,v.y]),m={x:2*m[0],y:2*m[1]},(E=pe([p.x,p.y],[(m={x:k.x+m.x/2,y:k.y+m.y/2}).x,m.y]))[0]=E[0]*S/2,E[1]=E[1]*S/2,g-=E[0],y-=E[1],A&&(T=A),M())))),requestAnimationFrame(e)},c=void 0,C=function(e,r,t){c={x:r.x+t.x,y:r.y+t.y},i=Array.from(e.points).map(function(e){return{x:e.x*a+s,y:e.y*a+u}}),console.log("points",i);for(var o={},n=0;n<i.length;n++)n===i.length-1?o["line"+n]=[i[n],i[0]]:o["line"+n]=[i[n],i[n+1]];console.log("lines",o);e=Object.keys(o).find(function(e){var t=sn(o[e],2),n=t[0],e=t[1];return(t=console).log.apply(t,["123123"].concat(ln([r.x,r.y,c.x,c.y,n.x,n.y,e.x,e.y].map(function(e){return Math.floor(e)})))),function(e,t,n,r,o,i,a,s){var u,c,l=void 0;return 0!=(l=(n-e)*(s-i)-(a-o)*(r-t))&&(u=((t-r)*(a-e)+(n-e)*(s-t))/l,0<(c=((s-i)*(a-e)+(o-a)*(s-t))/l)&&c<1&&0<u&&u<1)}.apply(void 0,ln([r.x,r.y,c.x,c.y,n.x,n.y,e.x,e.y].map(function(e){return Math.floor(e)})))});return console.log("foundLine",e),console.log("lines[foundLine]",o[e]),o[e]},M=function(){requestAnimationFrame(function(){n.update({x:g,y:y})})};this.moveTo=function(e){v={x:e.x,y:e.y}},requestAnimationFrame(t),me.instance.push(this)}function ve(e,t){var n=Math.atan2(t.y-e.y,t.x-e.x);return[180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI,n]}function ge(e,n){dn(this,ge);var t=e.getBoundingClientRect(),r=n.getBoundingClientRect(),o={x:t.x+t.width/2,y:t.y+t.height/2},t={x:r.x+r.width/2,y:r.y+r.height/2},r=e.closest("svg"),i=n.getBBox(),a=M(r,[o.x,o.y]),e=M(r,[t.x,t.y]),s=(o=a,t=sn(r=e,2),e=t[0],r=t[1],t=sn(o,2),o=t[0],t=t[1],o=Math.abs(e-o),t=Math.abs(r-t),Math.hypot(o,t));this.updatePosByDeg=function(e){var t=e*(Math.PI/180),e=function(e,t,n,r){return{x:n*Math.cos(r)+e,y:n*Math.sin(r)+t}}.apply(void 0,ln(a).concat([s,t])),t=e.x-(i.x+i.width/2),e=e.y-(i.y+i.height/2);n.style.transform="translate("+t+"px, "+e+"px)"},this.getDegreeBetween2Points=ve}me.instance=[];var ye=void 0;function we(n,e){var r=this;dn(this,we);var t=e||{},o=void 0===(e=t.multiplyRatio)?2:e,i=void 0===(e=t.diffRatio)?.3:e,e=t.direction,a=t.limitX,s=t.limitY,u=t.start,c=t.move,l=t.end,d=O(n),f=!1;this.coorX=0,this.coorY=0;var h={};n.addEventListener("touchstart",function(e){n.style.transition="",h={x:e.touches[0].clientX,y:e.touches[0].clientY},f=!0,requestAnimationFrame(A),u&&u(e)});var p={};n.addEventListener("touchmove",function(e){p={x:e.touches[0].clientX,y:e.touches[0].clientY},c&&c(e)}),n.addEventListener("touchend",function(e){f=!1,Object.keys(p).length<1&&(p=h),v(p,h),h=p=w={},l&&l(e)});var m,v=function(e,t){n.style.transition="transform 0.4s cubic-bezier(0, 1.16, 1, 1)",m={x:e.x-t.x,y:e.y-t.y},r.coorX+=m.x*o*d,r.coorY+=m.y*o*d,a&&(r.coorX<a[0]?r.coorX=a[0]:r.coorX>a[1]&&(r.coorX=a[1])),s&&(r.coorY<s[0]?r.coorY=s[0]:r.coorY>s[1]&&(r.coorY=s[1])),y()};(!a||Array.isArray(a)&&2===a.length&&a.every(function(e){return"number"==typeof e}))&&(!s||Array.isArray(s)&&2===s.length&&s.every(function(e){return"number"==typeof e}))||console.error("limitX and limitY can only be array of 2 of number.");var g,y=a||s?"horizontal"===e?function(){return n.style.transform="translate3d("+r.coorX+"px, 0px, 1px)"}:"vertical"===e?function(){return n.style.transform="translate3d(0px, "+r.coorY+"px, 1px)"}:function(){return n.style.transform="translate3d("+r.coorX+"px, "+r.coorY+"px, 1px)"}:"horizontal"===e?function(){return n.style.transform="translate3d("+r.coorX+"px, 0px, 1px)"}:"vertical"===e?function(){return n.style.transform="translate3d(0px, "+r.coorY+"px, 1px)"}:(console.warn("Invalid direction param."),function(){return n.style.transform="translate3d("+r.coorX+"px, "+r.coorY+"px, 1px)"}),w={},x=!1,_=0,b=0,A=function e(){x||(x=!0,(w={x:Math.floor((p.x||h.x)-h.x),y:Math.floor((p.y||h.y)-h.y)}).x=isNaN(w.x)?0:w.x,w.y=isNaN(w.y)?0:w.y,g={x:Math.floor(w.x*i),y:Math.floor(w.y*i)},r.coorX=r.coorX+g.x*d,r.coorY=r.coorY+g.y*d,r.coorX=isNaN(r.coorX)?_:r.coorX,r.coorY=isNaN(r.coorY)?b:r.coorY,r.coorX&&(_=r.coorX),r.coorY&&(b=r.coorY),y(),h={x:h.x+g.x,y:h.y+g.y},x=!1,f&&requestAnimationFrame(e))}}function xe(e,n,o){var r=this;dn(this,xe);var t=O(e),i=S(n),a=e.getBoundingClientRect(),e=n.getBoundingClientRect(),s=Math.abs(e.x)*t,u=-(e.width-Math.abs(e.x)-a.width)*t,c=Math.abs(e.y)*t,l=-(e.height-Math.abs(e.y)-a.height)*t;this.customStartPt=!1;var d=void 0;n.addEventListener("touchstart",function(e){o&&o.cbStart&&o.cbStart();e=e.touches[0];d=r.customStartPt?{x:e.clientX-d.x,y:e.clientY-d.y}:{x:e.clientX,y:e.clientY},console.log(d)});var f,h={x:0,y:0};n.addEventListener("touchmove",function(e){o&&o.cbMove&&o.cbMove();var e=e.targetTouches[0],n=((f={x:e.clientX,y:e.clientY}).x-d.x)*t,r=(f.y-d.y)*t;requestAnimationFrame(function(){var e=void 0;n<0&&(e=n+h.x<=u?u:n+h.x),0<n&&(e=n+h.x>=s?s:n+h.x);var t=void 0;0<r&&(t=r+h.y>=c?c:r+h.y),r<0&&(t=r+h.y<=l?l:r+h.y),i.style.transform="translate("+e+"px, "+t+"px)"})}),n.addEventListener("touchend",function(t){requestAnimationFrame(function(){o&&o.cbEnd&&o.cbEnd();var e=t.changedTouches[0];h={x:e.clientX,y:e.clientY};e=window.getComputedStyle(n.parentNode).transform.replace("matrix(","").replace(")","").split(",").map(function(e){return Number(e)});h.x=e[4]||"",h.y=e[5]||"",r.customStartPt&&r.cancelCustomStartPt()})}),this.moveXYDistance=function(e,t){if(!e||!t)throw new Error("x or y travel distance is not defined");i.style.transform="translate("+e+"px, "+t+"px)",r.setCustomStartPt(e,t)},this.setCustomStartPt=function(e,t){r.customStartPt=!0,d={x:e,y:t}},this.cancelCustomStartPt=function(){r.customStartPt=!1}}function _e(e,t){if(Array.isArray(e)&&Array.isArray(t)){var n=sn(e,2),r=n[0],o=n[1],i=sn(t,2),n=i[0],i=i[1],n=Math.abs(r-n),i=Math.abs(o-i);return Math.hypot(n,i)}return n=e.x,i=e.y,e=t.x,t=t.y,e=Math.abs(n-e),t=Math.abs(i-t),Math.hypot(e,t)}window.__audio__cache={};var be,Ae=void 0,ke=!1,Ee=(be=cn(nn.default.mark(function e(t,n,r){var o,i,a,s;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Ae=Ae||new(window.AudioContext||window.webkitAudioContext),r&&r.multiplayable&&(ke=!0),window.__audio__cache[n])return e.abrupt("return",window.__audio__cache[n]);e.next=4;break;case 4:return o=Ae,a=i=null,s=n&&"string"==typeof n?n:L(),e.next=7,function(r){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",r,!0),n.responseType="arraybuffer",n.onload=function(){return e(n.response)},n.onerror=t,n.send()})}(t);case 7:return i=e.sent,e.next=10,function(e,n){return new Promise(function(t){e.decodeAudioData(n,function(e){return t(e)})})}(o,i);case 10:return a=e.sent,window.__audio__cache[s]={name:s,play:function(){return e=o,t=a,!ke&&ye&&ye.stop(),(ye=e.createBufferSource()).buffer=t,ye.connect(e.destination),void ye.start(0);var e,t},duration:a.duration},e.abrupt("return",window.__audio__cache[s]);case 13:case"end":return e.stop()}},e,w)})),function(e,t,n){return be.apply(this,arguments)}),Te={},Se=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.containerDiv,o=n.volume,i=n.loop,a=n.loopBuffer,s={};return s.audioTag=Te[e]&&document.querySelector("audio"+Te[e].id)?Te[e]:((t=document.createElement("audio")).setAttribute("src",e),t.setAttribute("id",L()),"number"==typeof o&&(t.volume=o),i&&(t.setAttribute("loop",i),t.addEventListener("timeupdate",function(){var e=a||440;t.currentTime>t.duration-e/1e3&&(t.currentTime=0,t.play())})),(r||document.body).appendChild(t),Te[e]=t),s.play=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.audioTag.play();case 3:return e.abrupt("return");case 6:return e.prev=6,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,w,[[0,6]])})),s.pause=function(){s.audioTag.pause()},s.rewind=function(){s.pause(),s.audioTag.currentTime=0},s.playFromStart=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.rewind(),e.next=3,s.play();case 3:case"end":return e.stop()}},e,w)})),s.remove=function(){s.audioTag.parentElement&&s.audioTag.parentElement.removeChild(s.audioTag)},s},Ce=function(n,r,o){var e=n.parentElement,t=document.createElementNS("http://www.w3.org/2000/svg","defs");n.id=L(),t.appendChild(n),e.appendChild(t);return{id:n.id,element:n,spawn:function(){var e=L(),t=document.createElementNS("http://www.w3.org/2000/svg","use");return t.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+n.id),t.setAttribute("spawnid",e),r.appendChild(t),o&&o(t),t}}},Me=function(n,e,r){var t=n.parentElement,o=n.ownerSVGElement;t.removeChild(n),n.id=L();var i=e||o,a={};return{id:n.id,element:n,spawn:function(){var e=L(),t=n.cloneNode(!0);return t.id=e,i.appendChild(t),a[t.id]=t,r&&r(t),t},allInstance:a}},Oe=function(e){if(!e)throw new Error("Mc Error: useResponsiveWidth must provide <rect> element.");if("rect"!==e.nodeName.toLowerCase())throw new Error("Mc Error: useResponsiveWidth must be used on <rect> element.");var t=O(e);return e.setAttribute("width",window.screen.availWidth*t),e.setAttribute("style","transform: translateX(-"+e.getBoundingClientRect().x*t+"px)"),{}},Le=function(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI},Be=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=new B(e),r=n*(window.innerWidth/100),n=e.transformElement.getBoundingClientRect(),o=n.width,i=n.height,a=window.innerWidth,s=window.innerHeight,u=void 0;switch(t){case 1:u=[r,r];break;case 2:u=[a/2-o/2,r];break;case 3:u=[a-o-r,r];break;case 4:u=[r,s/2-i/2];break;case 5:u=[a/2-o/2,s/2-i/2];break;case 6:u=[a-o-r,s/2-i/2];break;case 7:u=[r,s-i-r];break;case 8:u=[a/2-o/2,s-i-r];break;case 9:u=[a-o-r/2,s-i-r]}return e.toCoorViewBox(u[0],u[1]),e},Pe=function(e,t){if(!e||!t)throw new Error("Mk Error: 2dRectCollisionDetection missing boundingClientRect");return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y},Re=function(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new Error("Entered Vector2 is/are not in Array type.");var n=_e(e,t),t=[e[0]-t[0],e[1]-t[1]];return[t[0]/n,t[1]/n]},Ne=function(e,r){return new Proxy(e,{set:function(e,t,n){try{r(t,n)}catch(e){console.error(e)}return e[t]=n,!0}})},Ie=function(){Element.prototype._getBoundingClientRect=Element.prototype.getBoundingClientRect,Element.prototype.getBoundingClientRect=function(){var e=Element.prototype._getBoundingClientRect.call(this);return e.x=e.left,e.y=e.top,e}};function De(e){return et="svg"===e.nodeName.toLowerCase()?e:e.closest("svg"),He=et.viewBox.baseVal,Ze=et.getBoundingClientRect(),e=1===(e=He.height/Ze.height)?He.height/window.innerHeight:e}function Fe(e){var t=e.getBoundingClientRect(),e=De(e);return t.x*e*-1}function je(e){var t,n=e.closest("svg").getAttribute("xmlns"),r=e.parentElement,o=document.createElementNS(n,"g"),i=Array.from(r.children),n=i.indexOf(e);return r.removeChild(e),o.appendChild(e),!(i.length<1)&&(t=r.children[n])?r.insertBefore(o,t):r.appendChild(o),o}function Ye(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:5,n=(2<arguments.length&&void 0!==arguments[2]&&arguments[2]?e:je(e)).getBBox(),r={};switch(t){case 1:r.x=0,r.y=0;break;case 2:r.x=n.width/2,r.y=0;break;case 3:r.x=n.width,r.y=0;break;case 4:r.x=0,r.y=n.height/2;break;case 5:r.x=n.width/2,r.y=n.height/2;break;case 6:r.x=n.width,r.y=n.height/2;break;case 7:r.x=0,r.y=n.height;break;case 8:r.x=n.width/2,r.y=n.height;break;case 9:r.x=n.width,r.y=n.height}var o=n.x+r.x,i=n.y+r.y,a=[];if("svg"!==e.parentElement.nodeName.toLowerCase())for(a.unshift(e.parentElement);"svg"!==a[0].parentElement.nodeName.toLowerCase();)a.unshift(a[0].parentElement);return a.unshift(e),a.forEach(function(e){e=getComputedStyle(e).transform;"none"!==e&&(0!==(e=e.replace("matrix(","").replace(")","").split(",").map(function(e){return Number(e)}))[4]&&(o-=e[4]),0!==e[5]&&(i-=e[5]))}),o+"px "+i+"px"}function Ue(e,t){var n=(r=sn(t,2))[0],t=r[1],r=De(e);return[(n-e.getBoundingClientRect().x)*r,(t-e.getBoundingClientRect().y)*r]}function Xe(i,a,s){return new Promise(function(e){switch(!1){case!!i:throw"presentName is absent.";case!!a:throw"lengthOfSpan is absent.";case!!s:throw"playbackCb is absent."}function t(){n--,r+=o,s(tt[i](r)),0<n?requestAnimationFrame(t):0===n&&requestAnimationFrame(e)}var n=a/1e3*60,r=0,o=1/n;requestAnimationFrame(t)})}function Ve(){return new Array(0<arguments.length&&void 0!==arguments[0]?arguments[0]:8).fill("").map(function(){return nt.charAt(Math.floor(Math.random()*nt.length))}).join("")}function Ge(e,a){var s=this;dn(this,Ge);var u=(a=a||{}).gTagProvided?e:je(e);u.style.transformOrigin=Ye(u,a.transformOrigin||5,!0);var c=0,l=0,i=0,d=0,f=0,h=0,p=1,m=1,r=[];function v(e){for(var t in e){var n=e[t];u.style[t]=n,r.push(t)}r=[].concat(ln(new Set(r)))}function g(t,n){return new Promise(function(e){""!==s.transitionString&&u.addEventListener("transitionend",function(){return requestAnimationFrame(e)},{once:!0}),requestAnimationFrame(function(){t&&v(t),u.style.transform=n?"translate3d("+(c+(o.x||0))+"px, "+(l+(o.y||0))+"px, "+(i+(o.z||0))+"px) scale("+(p+(o.sx||0))+", "+(m+(o.sy||0))+") rotateX("+(d+(o.rx||0))+"deg) rotateY("+(f+(o.ry||0))+"deg) rotateZ("+(h+(o.rz||0))+"deg)":"translate("+(c+(o.x||0))+"px, "+(l+(o.y||0))+"px) scale("+(p+(o.sx||0))+", "+(m+(o.sy||0))+") rotate("+(h+(o.rz||0))+"deg)",""!==s.transitionString&&u.style.transition||requestAnimationFrame(e)})})}this.transitionString="";var o=a.counterBalanceObj||{};g();var t,n,y,w,x=(n=(t=u).getBoundingClientRect(),t=t.closest("svg"),Ue(t,[n.x,n.y])),_=u.closest("svg");function b(e){var t=e||{},n=t.x,r=void 0===n?null:n,o=t.y;null!==r&&(c=r),null!==(e=void 0===o?null:o)&&(l=e),null!==(o=void 0===(n=t.sx)?null:n)&&(p=o),null!==(n=void 0===(n=t.sy)?null:n)&&(m=n),null!==(t=void 0===(t=t.r)?null:t)&&(h=t)}this.transformElement=u,this.element=e,this.current=function(){return{transX:c,transY:l,transZ:i,rotateX:d,rotateY:f,rotateZ:h,scaleX:p,scaleY:m,setCssName:r}},this.update3d=(y=cn(nn.default.mark(function e(t,n){var r,o;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(r=void 0===(r=(o=t||{}).x)?null:r)&&(c=r),null!==(r=void 0===(r=o.y)?null:r)&&(l=r),null!==(r=void 0===(r=o.z)?null:r)&&(i=r),null!==(r=void 0===(r=o.sx)?null:r)&&(p=r),null!==(r=void 0===(r=o.sy)?null:r)&&(m=r),null!==(r=void 0===(r=o.rx)?null:r)&&(d=r),null!==(r=void 0===(r=o.ry)?null:r)&&(f=r),null!==(o=void 0===(o=o.rz)?null:o)&&(h=o),e.next=11,g(n,!0);case 11:return e.abrupt("return",this.current());case 12:case"end":return e.stop()}},e,this)})),function(e,t){return y.apply(this,arguments)}),this.setTransition=function(e){this.transitionString=u.style.transition=e},this.getTransition=function(e){return this.transitionString},this.updateCss=function(e){v(e)},this.update=(w=cn(nn.default.mark(function e(t,n){var r,o;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C&&M)return r=this.current(),o={},Object.keys(t).forEach(function(e){switch(e){case"x":isNaN(t[e])||(o.transX=t[e]-r.transX);break;case"y":isNaN(t[e])||(o.transY=t[e]-r.transY);break;case"sx":isNaN(t[e])||(o.scaleX=t[e]-r.scaleX);break;case"sy":isNaN(t[e])||(o.scaleY=t[e]-r.scaleY);break;case"r":isNaN(t[e])||(o.rotateZ=t[e]-r.rotateZ)}}),e.next=6,Xe(C,M,function(e){b({x:o.transX?r.transX+o.transX*e:null,y:o.transY?r.transY+o.transY*e:null,sx:o.scaleX?r.scaleX+o.scaleX*e:null,sy:o.scaleY?r.scaleY+o.scaleY*e:null,r:o.rotateZ?r.rotateZ+o.rotateZ*e:null}),g()});e.next=10;break;case 6:return n&&v(n),e.abrupt("return",this.current());case 10:return b(t),e.next=13,g(n);case 13:return e.abrupt("return",this.current());case 14:case"end":return e.stop()}},e,this)})),function(e,t){return w.apply(this,arguments)});var A,k,E,T,S,C=void 0,M=void 0;this.setTransitionVP=function(e,t){this.setTransition(""),C=e,M=t},this.updateBaseOn=(A=cn(nn.default.mark(function e(t){var n=t.x,r=void 0===n?null:n,n=t.y,o=void 0===n?null:n,n=t.sx,i=void 0===n?null:n,n=t.sy,a=void 0===n?null:n,t=t.r,s=void 0===t?null:t;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!==r&&(c+=r),null!==o&&(l+=o),null!==i&&(p+=i),null!==a&&(m+=a),null!==s&&(h+=s),e.next=7,g();case 7:return e.abrupt("return",this.current());case 8:case"end":return e.stop()}},e,this)})),function(e){return A.apply(this,arguments)}),this.restore=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=l=i=d=f=h=0,p=m=1,r.forEach(function(e){return u.style[e]=""}),e.next=5,g();case 5:return e.abrupt("return",this.current());case 6:case"end":return e.stop()}},e,this)})),this.toCoor=(k=cn(nn.default.mark(function e(t,n){var r;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},t&&!isNaN(t)&&(r.x=t-x[0]),n&&!isNaN(n)&&(r.y=n-x[1]),t||n)return e.next=6,this.update(r);e.next=6;break;case 6:case"end":return e.stop()}},e,this)})),function(e,t){return k.apply(this,arguments)}),this.toCoorViewBox=(E=cn(nn.default.mark(function e(t,n){var r,o;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t||n)return r={},o=Ue(_,[t,n]),t&&!isNaN(t)&&(r.x=o[0]-x[0]),n&&!isNaN(n)&&(r.y=o[1]-x[1]),e.next=7,this.update(r);e.next=9;break;case 7:e.next=10;break;case 9:console.error("No param(s) found.");case 10:case"end":return e.stop()}},e,this)})),function(e,t){return E.apply(this,arguments)}),this.boundToRect=(T=cn(nn.default.mark(function e(t){var n,r,o,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.transformOrigin&&console.error('Mk Error: "boundToRect" only works in center origin mode, but now is '+a.transformOrigin),o=u.getBBox(),r=o.width>o.height?"width":"height",n="width"==r?t.width/o.width:t.height/o.height,r={width:o.width*n,height:o.height*n},r={x:t.x+(t.width-r.width)/2,y:t.y+(t.height-r.height)/2},o={x:r.x-(o.width-o.width*n)/2,y:r.y-(o.height-o.height*n)/2},e.next=4,s.update({sx:n*i,sy:n*i,x:o.x-x[0],y:o.y-x[1]});case 4:case"end":return e.stop()}},e,s)})),function(e){return T.apply(this,arguments)}),this.loop=(S=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:this.loop(t);case 3:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)}),this.enable=function(){return st(s.transformElement)},this.disable=function(){return at(s.transformElement)},this.highPerformance=function(e){return u.style.willChange=e?"transform, opacity":""},a.needHighPerformance&&this.highPerformance(!0),this.id=Ve(),this.transformElement.setAttribute("id",this.id),Ge.AllObjs[this.id]=this}window.__image__cache={};var qe,He,Ze,We,ze,Qe,Je,$e,Ke=(qe=cn(nn.default.mark(function e(t,n){var o,r,i,a,s,u,c;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=n||{}).removeSrc,o=void 0===r||r,r=n.xLinked,i=void 0!==r&&r,a=n.loadedNum,(s=Array.from(t.querySelectorAll(i?"image":"image[src]"))).length<1)return e.abrupt("return",console.error("There is no image tag with src attribute."));e.next=5;break;case 5:return u={},s.forEach(function(e){var t=e.getAttribute(i?"xlink:href":"src");u[t]||(u[t]=[]),u[t].push(e)}),c=0,e.next=10,Promise.all(Object.keys(u).map(function(e){return[e,u[e]]}).map(function(e){var t,e=sn(e,2),n=e[0],r=e[1];return new Promise((t=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.__image__cache[n]){e.next=8;break}return e.t0=window.URL,e.next=4,fetch(n);case 4:return e.next=6,e.sent.blob();case 6:e.t1=e.sent,window.__image__cache[n]=e.t0.createObjectURL.call(e.t0,e.t1);case 8:r.forEach(function(e){e.setAttributeNS("http://www.w3.org/1999/xlink","href",window.__image__cache[n]),o&&e.removeAttribute("src"),a&&a(++c/s.length)}),t();case 10:case"end":return e.stop()}},e,w)})),function(e){return t.apply(this,arguments)}))}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,w)})),function(e,t){return qe.apply(this,arguments)}),le=rn({Slot:t,View:s,Text:l,Timer:d,Gauge:p,Button:m,Sparker:A,GrowPath:I,Draggable:U,PathMover:Y,StatedCss:X,LineDrawer:G,SlotableImg:H,Transformer:B,EffectSound:Z,StatedImage:ie,GaugeElement:ae,StaticHelper:c,SteppedImage:se,CircularMover:ge,RangeCollider:me,DraggableInertia:we,AsDraggableInRect:xe,NormalSound:oe,Util:rn({LoadImageSrc:Ke,Ios:b,GetEle:N,UseBgm:T,Emitter:le,UseAudio:$,AddGParent:S,MakeDefine:Ce,GetSvgRootX:he,MakeDefineJs:Me,MoveToMarker:fe,MakeDraggble:q,UseEffectSound:Ee,UseNormalSound:Se,ValueLerpPreset:h,TwoPointsOfAngel:Le,UseResponsiveWidth:Oe,CalTransformOrigin:C,TwoPointsUnitVector:Re,TwoPointsOfDistance:_e,GetSvgToViewboxRatio:O,UseResponsivePosition:Be,GetSvgCoorByViewboxPos:M,TwoDCollisionDetection:Pe,GetBoundingClientRectPolyfill:Ie},{ObjectValueChangeListener:Ne,Ovcl:Ne})},{$:function(e){return document.querySelector(e)},$$:function(e){return document.querySelectorAll(e)},$$$:N}),$=function e(){var o=this;dn(this,e),this.listener={},this.on=function(e,t){if("string"!=typeof e)throw new Error('Marker must be typed "String".');if("function"!=typeof t)throw new Error("Listener must be a function.");return o.listener[e]||(o.listener[e]=[]),o.listener[e].push(t),!0},this.off=function(e,t){if(!e)return function(){o.listener={},console.log("All listener removed.")};if(!t)return delete o.listener[e],console.log("Listener key: "+e+" has been removed.");t=o.listener[e].indexOf(t);if(t<0)return console.warn("Target element for removal not found.");o.listener[e].splice(t,1),console.log("Target element removed.")},this.emit=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!(!o.listener[e]||!Array.isArray(o.listener[e])||o.listener[e].length<1)&&(o.listener[e].forEach(function(e){return e.apply(void 0,n)}),!0)}},et=void 0,Ce=function e(t,n){dn(this,e);var r=n||{},o=r.isHorizontal,i=r.isMobile,a=r.shouldPreserveCss,s=void 0!==a&&a,u=t.parentElement;s||(u.style.position="relative",u.style.overflow="hidden");n=u.getBoundingClientRect(),r=t.getBoundingClientRect(),a=o?n.height/r.height:n.width/r.width;s||(t.style.position="absolute",t.style.top=t.style.left=0,t.style.transformOrigin="top left",t.style.transform="scale("+a+")"),n=u.getBoundingClientRect(),r=t.getBoundingClientRect(),t.style.transform=o?"scale("+a+") translateX("+(n.width-r.width)/2/a+"px) translateZ(1px)":"scale("+a+") translateY("+(n.height-r.height)/2/a+"px) translateZ(1px)",i&&(document.body.style.webkitTouchCallout="none",document.addEventListener("contextmenu",function(e){e.preventDefault()},!1),window.onload=function(){document.addEventListener("touchstart",function(e){1<e.touches.length&&e.preventDefault()},{passive:!1});var n=0;document.addEventListener("touchend",function(e){var t=(new Date).getTime();t-n<=300&&e.preventDefault(),n=t},!1)},document.addEventListener("gesturestart",function(e){e.preventDefault()})),this.svgScaledRatio=a,this.svgToViewBoxRatio=De(t),this.svgRootX=Fe(t)},tt={linear:function(e){return e},easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*Math.pow(e,2):(4-2*e)*e-1},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return--e*Math.pow(e,2)+1},easeInOutCubic:function(e){return e<.5?4*Math.pow(e,3):(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return Math.pow(e,3)*e},easeOutQuart:function(e){return 1- --e*Math.pow(e,3)},easeInOutQuart:function(e){return e<.5?8*Math.pow(e,4):1-8*--e*Math.pow(e,3)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return 1+--e*Math.pow(e,3)*e},easeInOutQuint:function(e){return e<.5?16*Math.pow(e,5):1+16*--e*Math.pow(e,3)*e},easeInOutElastic:function(e){var t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1},easeOutBounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}},nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",rt=(Qe=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.style.pointerEvents="none",e.next=3,it(t,0);case 3:case"end":return e.stop()}},e,w)})),function(e){return Qe.apply(this,arguments)}),ot=(ze=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.style.pointerEvents="all",e.next=3,it(t,1);case 3:case"end":return e.stop()}},e,w)})),function(e){return ze.apply(this,arguments)}),it=(We=cn(nn.default.mark(function e(t,n){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.style.transition){e.next=4;break}t.style.opacity=n,e.next=6;break;case 4:return e.next=6,new Promise(function(e){t.addEventListener("transitionend",e,{once:!0}),t.style.opacity=n});case 6:case"end":return e.stop()}},e,w)})),function(e,t){return We.apply(this,arguments)}),at=(Me={showAndClickable:{opacity:1,pointerEvents:"all"},hideAndUnclickable:{opacity:0,pointerEvents:"none"},setHide:($e=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t))return e.next=3,Promise.all(t.map(function(e){return rt(e)}));e.next=6;break;case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,rt(t);case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,w)})),function(e){return $e.apply(this,arguments)}),setShow:(Je=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t))return e.next=3,Promise.all(t.map(function(e){return ot(e)}));e.next=6;break;case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,ot(t);case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,w)})),function(e){return Je.apply(this,arguments)})}).setHide,st=Me.setShow;function ut(r){var o=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};dn(this,ut);var e=Array.from(r.children);if(e.length<1||!e.every(function(e){return"g"===e.nodeName.toLowerCase()}))return console.error("gArr must be array og g tags.");this.layerId=Ve(),this.layerSet=e.map(function(r){function e(e){r.style.transition=e}return t.defaultTransition&&"string"==typeof t.defaultTransition&&e(t.defaultTransition),r.dataset.type="layer",{enabling:function(t){var n=this;return cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t)return e.next=3,lt(r);e.next=5;break;case 3:e.next=7;break;case 5:return e.next=7,ct(r);case 7:case"end":return e.stop()}},e,n)}))()},setTransition:e,element:r}}),this.disableAll=function(){return Promise.all(o.layers.map(function(e){return e.enabling(!1)}))},this.enableAll=function(){return Promise.all(o.layers.map(function(e){return e.enabling(!0)}))};var i=null;this.setDepth=function(e){var t,n=r.ownerSVGElement;null===i&&(t=n.viewBox.baseVal,o.layerSet.forEach(function(e){return e.element.style.transformOrigin=t.width/2+"px "+t.height/2+"px"})),i=e,o.panLayer=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return o.layerSet.forEach(function(e,t){t="scale("+(1+t*i)+") "+n;e.element.style.transform=t})},o.panLayer()}}Ge.AllObjs={};var ct=Me.setHide,lt=Me.setShow,Ee=function e(t){var l=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};dn(this,e);var r="svg"===t.nodeName.toLowerCase()?t:t.ownerSVGElement;this.svgToViewBoxRatio=De(r);var o=r.getAttribute("xmlns"),r=document.createElementNS(o,"g"),i=document.createElementNS(o,"g"),o=document.createElementNS(o,"rect");o.setAttributeNS(null,"x",0),o.setAttributeNS(null,"y",0),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"fill","#CDCDCDff"),o.style.pointerEvents="none",r.appendChild(o),r.dataset.type="camera",Array.from(t.children).forEach(function(e){return i.appendChild(e)}),r.appendChild(i),t.appendChild(r);var d=new Ge(r,{gTagProvided:!0,needHighPerformance:!0}),n=n.defaultTransition;n&&"string"==typeof n&&d.setTransition(n),t.id&&(i.id=t.id,t.removeAttribute("id"));var f=r.getBBox(),c=f.width/2,h=f.height/2,r=c+"px "+h+"px";d.transformElement.style.transformOrigin=r;var a,s,u,p=1,m={x:0,y:0,sx:1,sy:1};this.transformer=d,this.transformElement=d.transformElement,this.setTransition=d.setTransition,this.isDuringTransition=!1,this.instanceElement=i,this.restore=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l.isDuringTransition)return e.abrupt("return");e.next=2;break;case 2:return l.isDuringTransition=!0,m={x:0,y:0,sx:p=1,sy:1},e.next=7,d.restore();case 7:l.isDuringTransition=!1;case 8:case"end":return e.stop()}},e,l)})),this.pan=(a=cn(nn.default.mark(function e(t,n){var r;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l.isDuringTransition)return e.abrupt("return");e.next=2;break;case 2:return l.isDuringTransition=!0,r={x:"number"==typeof t?t:void 0,y:"number"==typeof n?n:void 0},e.next=6,d.updateBaseOn(r);case 6:l.isDuringTransition=!1;case 7:case"end":return e.stop()}},e,l)})),function(e,t){return a.apply(this,arguments)}),this.panAndZoom=(s=cn(nn.default.mark(function e(a,s,u){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var t=cn(nn.default.mark(function e(t){var n,r,o,i;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l.isDuringTransition)return e.abrupt("return");e.next=2;break;case 2:return l.isDuringTransition=!0,n={x:"number"==typeof a?a:void 0,y:"number"==typeof s?s:void 0,sx:"number"==typeof u?u:1,sy:"number"==typeof u?u:1},r=d.getTransition(),d.setTransition(""),0,o=f.width/2-n.x+"px "+(f.height/2-n.y)+"px",i={x:-1*((a-m.x)*p-n.x),y:-1*((s-m.y)*p-n.y)},d.transformElement.style.transformOrigin=o,d.update(i),e.next=13,new Promise(function(e){return requestAnimationFrame(function(){return setTimeout(e,50)})});case 13:if(d.setTransition(r),p=n.sx,m=n,c.twoStepped){e.next=21;break}return e.next=19,d.update(rn({},n,{z:1}));case 19:e.next=25;break;case 21:return e.next=23,d.update({x:n.x,y:n.y,z:1});case 23:return e.next=25,d.update({sx:n.sx,sy:n.sy,z:1});case 25:t(),l.isDuringTransition=!1;case 27:case"end":return e.stop()}},e,l)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,l)})),function(e,t,n){return s.apply(this,arguments)}),this.zoomToEle=(u=cn(nn.default.mark(function e(t){var n,r,o,i,a,s,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=dt(t.getBoundingClientRect(),p),s=dt(d.transformElement.getBoundingClientRect(),p),i={x:(n.x-s.x)*l.svgToViewBoxRatio,y:(n.y-s.y)*l.svgToViewBoxRatio},r={x:i.x+n.width/2*l.svgToViewBoxRatio-c,y:i.y+n.height/2*l.svgToViewBoxRatio-h},a=u.mode,o=void 0===a?"horizontal":a,s=u.zoomEffect,i=u.zoomMargin,a=u.twoStep,s||i){e.next=9;break}return e.next=7,l.panAndZoom(-r.x,-r.y,1);case 7:e.next=13;break;case 9:return s="horizontal"===o?window.innerWidth/n.width:window.innerHeight/n.height,s*=i||1,e.next=13,l.panAndZoom(Number((-r.x).toFixed(2)),Number((-r.y).toFixed(2)),Number(s.toFixed(2)),{twoStepped:a});case 13:case"end":return e.stop()}},e,l)})),function(e){return u.apply(this,arguments)}),Array.from(this.instanceElement.children).every(function(e){return"g"===e.nodeName.toLowerCase()})&&(console.log("this.instanceElement.children",this.instanceElement.children),this.instanceLayer=new ut(this.instanceElement))},dt=function(t,n){return Object.fromEntries(["top","right","bottom","left","width","height","x","y"].map(function(e){return[e,t[e]/n]}))},Se=(an(ft,[{key:"updateTargetTime",value:function(e){this.targetTime=e}},{key:"start",value:function(){var e=this;this.currentTime===this.targetTime?this.startCb&&this.startCb(this.currentTime):this.resumeCb&&this.resumeCb(this.currentTime),this.timerObj=setInterval(function(){--e.currentTime,0<=e.currentTime?e.secondCb&&e.secondCb(e.currentTime):(e.pause(!0),e.endCb&&e.endCb())},1e3)}},{key:"pause",value:function(e){var t;(t=this.timerObj)?(clearInterval(t),t=null):console.warn("Time is not counting."),this.pauseCb&&!e&&this.pauseCb(this.currentTime)}},{key:"reset",value:function(){return this.pause(),this.currentTime=this.targetTime,this.resetCb&&this.resetCb(),this.currentTime}}]),ft);function ft(e){var t=e.time,n=e.startCb,r=e.secondCb,o=e.endCb,i=e.pauseCb,a=e.resumeCb,e=e.resetCb;dn(this,ft),this.targetTime=t||10,this.timerObj=null,this.currentTime=this.targetTime,this.startCb=n,this.secondCb=r,this.endCb=o,this.resetCb=e,this.pauseCb=i,this.resumeCb=a}function ht(){3!==pt.playbackState&&pt.stop()}var pt=void 0,mt=void 0,vt=void 0;window.__bgm__cache={};var gt,yt=void 0,wt=(gt=cn(nn.default.mark(function e(t,n){var r,o,i,a,s,u,c;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=n||{}).name,o=n.paddingFromStart,i=n.paddingToEnd,yt=yt||new(window.AudioContext||window.webkitAudioContext),mt="number"==typeof o?o:.1,vt="number"==typeof i?i:.1,window.__bgm__cache[r])return e.abrupt("return",window.__bgm__cache[r]);e.next=7;break;case 7:return a=yt,u=s=null,c=r&&"string"==typeof r?r:Ve(),e.next=10,function(r){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",r,!0),n.responseType="arraybuffer",n.onload=function(){return e(n.response)},n.onerror=t,n.send()})}(t);case 10:return s=e.sent,e.next=13,function(e,n){return new Promise(function(t){e.decodeAudioData(n,function(e){return t(e)})})}(a,s);case 13:return u=e.sent,window.__bgm__cache[c]={name:c,play:function(){return e=a,t=u,pt&&3!==pt.playbackState&&pt.stop(),(pt=e.createBufferSource()).buffer=t,pt.connect(e.destination),pt.start(0),pt.loopStart=mt,pt.loopEnd=t.duration-vt,void(pt.loop=!0);var e,t},duration:u.duration,resumeContext:function(){a.resume()},suspendContext:function(){a.suspend()},stop:ht,pause:ht},wt.AllInstance.push(window.__bgm__cache[c]),e.abrupt("return",window.__bgm__cache[c]);case 17:case"end":return e.stop()}},e,w)})),function(e,t){return gt.apply(this,arguments)});wt.AllInstance=[],wt.stopAll=function(){return wt.AllInstance.forEach(function(e){return e.stop()})};var xt=void 0;window.__audio__cache={};var _t,bt=void 0,At=!1,kt=(_t=cn(nn.default.mark(function e(t,n){var r,o,i,a,s,u;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=n||{}).name,o=n.multiplayable,bt=bt||new(window.AudioContext||window.webkitAudioContext),o&&(At=!0),window.__audio__cache[r])return e.abrupt("return",window.__audio__cache[r]);e.next=6;break;case 6:return i=bt,s=a=null,u=r&&"string"==typeof r?r:Ve(),e.next=9,function(r){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",r,!0),n.responseType="arraybuffer",n.onload=function(){return e(n.response)},n.onerror=t,n.send()})}(t);case 9:return a=e.sent,e.next=12,function(e,n){return new Promise(function(t){e.decodeAudioData(n,function(e){return t(e)})})}(i,a);case 12:return s=e.sent,window.__audio__cache[u]={resumeContext:function(){i.resume()},suspendContext:function(){i.suspend()},name:u,play:function(){return e=i,t=s,!At&&xt&&xt.stop(),(xt=e.createBufferSource()).buffer=t,xt.connect(e.destination),void xt.start(0);var e,t},duration:s.duration},kt.AllInstance.push(window.__audio__cache[u]),e.abrupt("return",window.__audio__cache[u]);case 16:case"end":return e.stop()}},e,w)})),function(e,t){return _t.apply(this,arguments)});kt.AllInstance=[];var Et,Tt={},St=(Et=cn(nn.default.mark(function e(n){var r,o,i,a,t,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.containerDiv,o=s.volume,i=s.loop,a=s.loopBuffer,(t={}).audioTag=Tt[n]&&document.querySelector("audio"+Tt[n].id)?Tt[n]:function(){var t=document.createElement("audio");return t.setAttribute("src",n),t.setAttribute("id",Ve()),"number"==typeof o&&(t.volume=o),i&&(t.setAttribute("loop",i),t.addEventListener("timeupdate",function(){var e=a||440;t.currentTime>t.duration-e/1e3&&(t.currentTime=0,t.play())})),(r||document.body).appendChild(t),Tt[n]=t}(),t.play=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.audioTag.play();case 3:return e.abrupt("return");case 6:return e.prev=6,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,w,[[0,6]])})),t.pause=function(){t.audioTag.pause()},t.rewind=function(){t.pause(),t.audioTag.currentTime=0},t.playFromStart=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.rewind(),e.next=3,t.play();case 3:case"end":return e.stop()}},e,w)})),t.remove=function(){t.audioTag.parentElement&&t.audioTag.parentElement.removeChild(t.audioTag)},St.AllInstance.push(t),e.abrupt("return",t);case 10:case"end":return e.stop()}},e,w)})),function(e){return Et.apply(this,arguments)});St.AllInstance=[],St.stopAll=function(){return St.AllInstance.forEach(function(e){return e.pause()})};var Ct,Le=(Ct=cn(nn.default.mark(function e(t){var n,r,o;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(t,{name:"__globalClick_"+Math.floor(1e3*Math.random()),multiplayable:!1});case 2:return n=e.sent,r={effectSound:n,disabled:!1},o=function(){r.disabled||n.play()},document.body.addEventListener("touchend",o,{passive:!0}),r.remove=function(){document.body.removeEventListener("touchend",o,{passive:!0})},e.abrupt("return",r);case 8:case"end":return e.stop()}},e,w)})),function(e){return Ct.apply(this,arguments)});function Mt(e){var r=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(dn(this,Mt),!e.update&&!e.restore)return console.error("transformerObj must be class of AiJs Transformer.");var n=e;function o(e){r.disabled||(d={x:e.touches[0].clientX,y:e.touches[0].clientY},f=c.current(),h=c.transformElement.getBoundingClientRect(),i&&i(e,c,p))}n.highPerformance(!0);var i=t.start,a=t.move,s=t.end,u=e.transformElement,c=n,l=De(u),d=void 0,f=void 0,h=void 0;u.addEventListener("touchstart",o,{passive:!0});var p=function(){u.removeEventListener("touchstart",o,{passive:!0}),u.removeEventListener("touchmove",g,{passive:!0}),u.removeEventListener("touchend",w,!0)};this.disabled=!1;var m,v,g=(v=cn(nn.default.mark(function e(t){var n;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.disabled)return e.abrupt("return");e.next=2;break;case 2:if(e.prev=2,n=void 0,a)return e.next=7,a(t,c,p);e.next=8;break;case 7:n=e.sent;case 8:if(n)return e.next=11,c.toCoorViewBox(n.x||h.x,n.y||h.y);e.next=13;break;case 11:e.next=16;break;case 13:return m={x:t.touches[0].clientX-d.x,y:t.touches[0].clientY-d.y},e.next=16,c.update({x:m.x*l+f.transX,y:m.y*l+f.transY});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),console.error("intened throw for stop drag action",e.t0);case 21:case"end":return e.stop()}},e,r,[[2,18]])})),function(e){return v.apply(this,arguments)});u.addEventListener("touchmove",g,{passive:!0});var y,w=(y=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.disabled)return e.abrupt("return");e.next=2;break;case 2:if(s)return e.next=5,s(t,c,p);e.next=8;break;case 5:if(e.sent){e.next=8;break}return e.next=8,c.restore();case 8:case"end":return e.stop()}},e,r)})),function(e){return y.apply(this,arguments)});u.addEventListener("touchend",w,!0),this.destroyListener=p}function Ot(e,t){for(var n in e){var r=e[n];t.style[n]=r}}var Lt,Bt,Pt,Rt,Nt,It,Oe=(Lt=cn(nn.default.mark(function e(t,u,c,l){var d,f,n;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&u&&c){e.next=2;break}throw new Error("Mk Error: Ness params missing.");case 2:return d=new Image,n=f=void 0,e.next=5,fetch(t);case 5:return e.next=7,e.sent.blob();case 7:return f=e.sent,n=URL.createObjectURL(f),e.next=11,new Promise(function(e){d.src=n,d.addEventListener("load",e,{once:!0})});case 11:return e.abrupt("return",{addAtCoor:function(){var o=cn(nn.default.mark(function e(n,r,o,i){var a,s;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttributeNS("http://www.w3.org/1999/xlink","href",(t=f,window.URL.createObjectURL(t))),s.setAttribute("width",d.naturalWidth),s.setAttribute("height",d.naturalHeight),s.setAttribute("y",-1*d.naturalHeight),(i||c).appendChild(s),a=new Ge(s),s=o?a.transformElement.getBoundingClientRect():a.transformElement.getBBox(),l&&a.update({sx:l,sy:l}),a.transformElement.style.pointerEvents="none",a.element.style.pointerEvents="none",o)return e.next=14,a.toCoorViewBox(n-s.width/2,r-s.height/2);e.next=16;break;case 14:e.next=18;break;case 16:return e.next=18,a.toCoor(n-s.width/2,r-s.height/2);case 18:return e.abrupt("return",new Promise(function(e){setTimeout(function(){a.transformElement.parentElement.removeChild(a.transformElement),e()},u)}));case 19:case"end":return e.stop()}var t},e,this)}));return function(e,t,n,r){return o.apply(this,arguments)}}(),hide:function(){var e=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:transformerObj.transformElement.style.opacity="0",transformerObj.transformElement.style.pointerEvents="none";case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),show:function(){var e=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:transformerObj.transformElement.style.opacity="1",transformerObj.transformElement.style.pointerEvents="none";case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()});case 12:case"end":return e.stop()}},e,w)})),function(e,t,n,r){return Lt.apply(this,arguments)}),Dt=Me.setShow,Ft=Me.setHide,Re=(Bt=cn(nn.default.mark(function e(t,n){var r,o,i,a,s,u,c;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Array.isArray(t)?"tagArray":"singleTag",i=o=void 0,"tagArray"!==r){e.next=6;break}o=t,e.next=13;break;case 6:if("singleTag"===r)return o=n,i=t,e.next=11,Promise.all(o.map(function(){var t=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return e.next=4,e.sent.blob();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,w)}));return function(e){return t.apply(this,arguments)}}()));e.next=13;break;case 11:e.t0=function(e){return window.URL.createObjectURL(e)},o=e.sent.map(e.t0);case 13:if(a=Ve(),s=0,u=function(){var e=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.map(function(){var n=cn(nn.default.mark(function e(t,n){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n===s)return e.next=3,Dt(t);e.next=6;break;case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,Ft(t);case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,w)}));return function(e,t){return n.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,w)}));return function(){return e.apply(this,arguments)}}(),c=function(){var e=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.style.transition)return e.next=3,Ft(i);e.next=10;break;case 3:return i.setAttribute("xlink:href",o[s]),e.next=6,new Promise(function(e){return setTimeout(e,50)});case 6:return e.next=8,Dt(i);case 8:e.next=11;break;case 10:i.setAttribute("xlink:href",o[s]);case 11:case"end":return e.stop()}},e,w)}));return function(){return e.apply(this,arguments)}}(),"tagArray"===r)return o.forEach(function(e,t){0!==t&&Ft(e)}),e.abrupt("return",{id:a,setTransition:function(t){o.forEach(function(e){return e.style.transition=t})},toNext:function(){var t=this;return cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s+=1)>o.length-1)return s=o.length-1,e.abrupt("return",console.warn("Already at last frame."));e.next=4;break;case 4:return e.next=6,u();case 6:case"end":return e.stop()}},e,t)}))()},toPrev:function(){var t=this;return cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(--s<0)return s=0,e.abrupt("return",console.warn("Already at frame 1."));e.next=4;break;case 4:return e.next=6,u();case 6:case"end":return e.stop()}},e,t)}))()},toFirst:function(){var t=this;return cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=0,e.next=3,u();case 3:case"end":return e.stop()}},e,t)}))()},hide:function(){var t=this;return cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:case"end":return e.stop()}},e,t)}))()}});e.next=21;break;case 21:if("singleTag"===r)return e.abrupt("return",{id:a,setTransition:function(e){i.style.transition=e},toNext:function(){var t=this;return cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s+=1)>o.length-1)return s=o.length-1,e.abrupt("return",console.warn("Already at last frame."));e.next=4;break;case 4:return e.next=6,c();case 6:case"end":return e.stop()}},e,t)}))()},toPrev:function(){var t=this;return cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(--s<0)return s=0,e.abrupt("return",console.warn("Already at frame 1."));e.next=4;break;case 4:return e.next=6,c();case 6:case"end":return e.stop()}},e,t)}))()},toFirst:function(){var t=this;return cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=0,e.next=3,c();case 3:case"end":return e.stop()}},e,t)}))()},hide:function(){var t=this;return cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=0,i.setAttribute("xlink:href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////AAAAVcLTfgAAAAF0Uk5TAEDm2GYAAAAOSURBVHjaYmCgJwAIMAAAbgABHA/EkAAAAABJRU5ErkJggg==");case 2:case"end":return e.stop()}},e,t)}))()}});e.next=23;break;case 23:case"end":return e.stop()}},e,w)})),function(e,t){return Bt.apply(this,arguments)}),jt=Me.setShow,Yt=Me.setHide,Ut={},Xt=(Pt=cn(nn.default.mark(function e(t){var n;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Ut[t]){e.next=13;break}return e.prev=1,e.next=4,fetch(t);case 4:return e.next=6,e.sent.blob();case 6:n=e.sent,Ut[t]=window.URL.createObjectURL(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.warn(e.t0);case 13:case"end":return e.stop()}},e,w,[[1,10]])})),function(e){return Pt.apply(this,arguments)}),Vt=(Rt=cn(nn.default.mark(function e(t,n){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.setAttributeNS("http://www.w3.org/1999/xlink","href",Ut[n]||n);case 1:case"end":return e.stop()}},e,w)})),function(e,t){return Rt.apply(this,arguments)}),Be=(Nt=cn(nn.default.mark(function e(t,l,d,f,h,o){var p,n,r,i,a,s,m;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(window.__image_cache||(window.__image_cache={}),(p={})._origin_imageObjOfSlot=rn({},l),p._disabled=!1,Object.defineProperty(p,"disabled",{get:function(){return p._disabled},set:function(e){p._disabled=e,Object.values(p.draggableInstance).forEach(function(e){e.transformer.transformElement.style.pointerEvents=p._disabled?"none":"all"})}}),cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object.values(l).map(function(){var t=cn(nn.default.mark(function e(t){var n,r;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getAttribute("xlink:href"),e.next=3,fetch(n);case 3:return e.next=5,e.sent.blob();case 5:return r=e.sent,window.__image_cache[n]=window.URL.createObjectURL(r),t.dataset.originpath=window.__image_cache[n],e.abrupt("return",t);case 9:case"end":return e.stop()}},e,w)}));return function(e){return t.apply(this,arguments)}}()));case 2:p._allSlots=e.sent;case 3:case"end":return e.stop()}},e,w)}))(),p._reset=[],p._resetTransformer=[],p.reset=function(){l=rn({},p._origin_imageObjOfSlot),jt(p._reset),p._resetTransformer.forEach(function(e){return e.restore()}),p._allSlots.forEach(function(e){return e.setAttributeNS("http://www.w3.org/1999/xlink","href",e.dataset.originpath)}),p._matchArr=[]},p.resetCertain=function(e,r){if(!e||!Array.isArray(e)||e.length<1)return console.warn("There is no keys(Array) specified for reset.");e.forEach(function(n){p._matchArr.forEach(function(e,t){n===e[0][0]&&(e[0][1].setAttributeNS("http://www.w3.org/1999/xlink","href",e[0][1].dataset.originpath),l[e[0][0]]=e[0][1],r&&(jt(e[1][2].transformElement),e[1][2].restore()),p._matchArr[t]=null)})}),-1<p._matchArr.indexOf(null)&&(p._matchArr=p._matchArr.filter(function(e){return!!e}))},p._matchArr=[],p.slotAlreadyMatched=function(){return p._matchArr},p.draggableInstance={},console.log("imageObjOfDraggable",t),r=!(n=!0),i=void 0,e.prev=17,a=function(){var e=sn(m.value,2),i=e[0],e=e[1],e=Array.isArray(e)?e:[e,null,null],e=sn(e,3),a=e[0],s=e[1],u=e[2],c=new Ge(a),e=u?Object.values(u).map(function(e){return"string"==typeof e?e:e.getAttribute("xlink:href")}):s?"string"==typeof s?s:s.getAttribute("xlink:href"):a.getAttribute("xlink:href");Array.isArray(e)?e.forEach(function(e){return Xt(e)}):Xt(e),p._resetTransformer.includes(c)||p._resetTransformer.push(c);function r(e,t,n){var r=Array.from(document.elementsFromPoint(e,t)),o=Object.values(l).filter(function(e){return r.includes(e)});(o=0<o.length?o[0]:null)&&(t=Object.entries(l).find(function(e){e=sn(e,2),e[0];return e[1]===o})[0],Vt(o,u?(u[t]||(t="_default"),"string"==typeof u[t]?u[t]:u[t].getAttribute("xlink:href")):s?"string"==typeof s?s:s.getAttribute("xlink:href"):a.getAttribute("xlink:href")),d&&(p._reset.push(c.transformElement),Yt(c.transformElement)),p._matchArr.push([[t,o],[i,a,c]]),h({transformerOfDragged:c,nameOfDragged:i,tagOfDragged:a,tagOfSlot:o,nameOfSlot:t,replacer:s,individualer:u||null}),f&&delete l[t])}new Mt(c,{start:function(){o&&o.dragStart&&o.dragStart()},end:function(e,t,n){e={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};return r(e.x,e.y),o&&o.dragEnd&&o.dragEnd(),!1}}),p.draggableInstance[i]={transformer:c,checkIsOnSlot:function(){var e=c.transformElement.getBoundingClientRect();r(e.x+e.width/2,e.y+e.height/2)}}},s=Object.entries(t)[Symbol.iterator]();!(n=(m=s.next()).done);n=!0)a();e.next=26;break;case 22:e.prev=22,e.t0=e.catch(17),r=!0,i=e.t0;case 26:e.prev=26,e.prev=27,!n&&s.return&&s.return();case 29:if(e.prev=29,r)throw i;e.next=32;break;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.abrupt("return",p);case 35:case"end":return e.stop()}},e,w,[[17,22,26,34],[27,,29,33]])})),function(e,t,n,r,o,i){return Nt.apply(this,arguments)}),Gt={},Pe=(It=cn(nn.default.mark(function e(r,o){var i,t,a;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ve(),r.id=i,Object.keys(o).map(function(e){var t=o[e];return"string"==typeof t?[e,t]:Array.isArray(t)&&2===t.length&&"string"==typeof t[0]&&"function"==typeof t[1]?[e,t[0]]:function(){throw new Error("Mk Error: Structure error.")}()}).forEach(function(e){var e=sn(e,2),t=e[0],e=e[1];fetch(e).then(function(e){return e.blob()}).then(function(e){Gt[i]||(Gt[i]={}),Gt[i][t]=e}).catch(function(e){return console.error(e)})}),t=r.getAttribute("xlink:href"),a={},Object.keys(o).forEach(function(e){function t(){try{return console.warn("allCachedBlob",Gt),r.setAttributeNS("http://www.w3.org/1999/xlink","href",window.URL.createObjectURL(Gt[i][e])),!0}catch(e){return!1}}var n=o[e];a[e]=function(){requestAnimationFrame(function(){var e;t()||(e=null,e=setInterval(function(){t()&&(clearInterval(e),e=null)},250))}),"function"==typeof n[1]&&n[1](a)}}),a.hide||a.default)throw new Error("Mk Error: hide and default keys are reserved");e.next=9;break;case 9:return(a=rn({},a,{hide:function(){requestAnimationFrame(function(){return r.setAttribute("xlink:href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////AAAAVcLTfgAAAAF0Uk5TAEDm2GYAAAAOSURBVHjaYmCgJwAIMAAAbgABHA/EkAAAAABJRU5ErkJggg==")})},default:function(){requestAnimationFrame(function(){return r.setAttribute("xlink:href",t)})}}))._id=i,r.setAttribute("statedimageid",i),e.abrupt("return",a);case 13:case"end":return e.stop()}},e,w)})),function(e,t){return It.apply(this,arguments)});function qt(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function Ht(e,t){if(Array.isArray(e)&&Array.isArray(t)){var n=sn(e,2),r=n[0],o=n[1],i=sn(t,2),n=i[0],i=i[1],n=Math.abs(r-n),i=Math.abs(o-i);return Math.hypot(n,i)}return n=e.x,i=e.y,e=t.x,t=t.y,e=Math.abs(n-e),t=Math.abs(i-t),Math.hypot(e,t)}window.__image__cache||(window.__image__cache={});var Zt,Ie=(Zt=cn(nn.default.mark(function e(t,n){var r,o,i,a,s,u,c,l,d,f,h,p,m,v,g;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=n||{},!Array.isArray(t)){e.next=46;break}if(t.every(function(e){return"string"==typeof e}))return r=[].concat(ln(new Set(t))),e.next=7,Promise.all(r.map(function(){var t=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=window.URL,e.next=3,fetch(t);case 3:return e.next=5,e.sent.blob();case 5:return e.t1=e.sent,window.__image__cache[t]=e.t0.createObjectURL.call(e.t0,e.t1),e.abrupt("return",window.__image__cache[t]);case 8:case"end":return e.stop()}},e,w)}));return function(e){return t.apply(this,arguments)}}()));e.next=10;break;case 7:return e.abrupt("return",e.sent);case 10:o=[],i=t.map(function(e){var t=e.getAttribute("xlink:href");return o.push(t),[e,t]}),o=[].concat(ln(new Set(o))),s=!(a=!0),u=void 0,e.prev=15,c=o[Symbol.iterator]();case 17:if(a=(f=c.next()).done){e.next=29;break}return l=f.value,e.t0=window.URL,e.next=22,fetch(l);case 22:return e.next=24,e.sent.blob();case 24:e.t1=e.sent,window.__image__cache[l]=e.t0.createObjectURL.call(e.t0,e.t1);case 26:a=!0,e.next=17;break;case 29:e.next=35;break;case 31:e.prev=31,e.t2=e.catch(15),s=!0,u=e.t2;case 35:e.prev=35,e.prev=36,!a&&c.return&&c.return();case 38:if(e.prev=38,s)throw u;e.next=41;break;case 41:return e.finish(38);case 42:return e.finish(35);case 43:return e.abrupt("return",i.forEach(function(e){var t=sn(e,2),e=t[0],t=t[1];e.setAttributeNS("http://www.w3.org/1999/xlink","href",window.__image__cache[t])}));case 44:e.next=57;break;case 46:if(f=n.removeSrc,d=void 0===f||f,f=n.xLinked,h=void 0!==f&&f,p=n.loadedNum,(m=Array.from(t.querySelectorAll(h?"image":"image[src]"))).length<1)try{m=[t.closest("image")]}catch(e){}if(m.length<1)return e.abrupt("return",console.error("There is no image tag with src attribute."));e.next=51;break;case 51:return v={},m.forEach(function(e){var t=e.getAttribute(h?"xlink:href":"src");v[t]||(v[t]=[]),v[t].push(e)}),g=0,e.next=56,Promise.all(Object.keys(v).map(function(e){return[e,v[e]]}).map(function(e){var t,e=sn(e,2),n=e[0],r=e[1];return new Promise((t=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.__image__cache[n]){e.next=8;break}return e.t0=window.URL,e.next=4,fetch(n);case 4:return e.next=6,e.sent.blob();case 6:e.t1=e.sent,window.__image__cache[n]=e.t0.createObjectURL.call(e.t0,e.t1);case 8:r.forEach(function(e){e.setAttributeNS("http://www.w3.org/1999/xlink","href",window.__image__cache[n]),d&&e.removeAttribute("src"),p&&p(++g/m.length)}),t();case 10:case"end":return e.stop()}},e,w)})),function(e){return t.apply(this,arguments)}))}));case 56:return e.abrupt("return",e.sent);case 57:case"end":return e.stop()}},e,w,[[15,31,35,43],[36,,38,42]])})),function(e,t){return Zt.apply(this,arguments)});function Wt(t,n,r,o){var i,a,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:100;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=(r-n)/(s-1),a=0,s-=1;case 3:if(0<s)return e.next=6,t(n+a*i)/o;e.next=10;break;case 6:a++,s--,e.next=3;break;case 10:return e.next=12,t(r)/o;case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)}var zt=void 0,Qt={startY:0,deltaY:0,domEle:null,started:function(e){this.startY=e.targetTouches[0].clientY},moved:function(e){this.deltaY=e.targetTouches[0].clientY,(this.domEle.scrollTop<1&&0<this.deltaY-this.startY||this.domEle.scrollTop+this.domEle.offsetHeight>=this.domEle.scrollHeight&&this.deltaY-this.startY<0)&&e.preventDefault()},init:function(e){var t=this;(this.domEle=e).addEventListener("touchstart",function(e){return t.started(e)},{capture:!0,passive:!1}),e.addEventListener("touchmove",function(e){return t.moved(e)},{capture:!0,passive:!1})}};function Jt(e){var t=e.farthestViewportElement,n=De(t),t=t.getBoundingClientRect();return{x:((e=e.getBoundingClientRect()).x-t.x)*n,y:(e.y-t.y)*n,width:e.width*n,height:e.height*n}}function $t(e,t){var n=Math.atan2(t.y-e.y,t.x-e.x);return[180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI,n]}function Kt(e,t){return e.setAttribute("points",t.filter(function(e){return 0<e.length}).map(function(e){return e[0]+","+e[1]}).join(" "))}(Ne=function(e,t){var n=(t=t||{}).isOverLay,r=void 0===n||n,o=e.ownerSVGElement,t=e.getBoundingClientRect(),n=o.style.position;"relative"===n&&"absolute"===n&&"fixed"===n||console.warn("Svg parent should be relative, absolute or fixed, otherwise it may not work properly."),e.parentElement.removeChild(e);e=e.children[0];e.style.position="absolute",e.style.left=t.x+"px",e.style.top=t.y+"px",e.style.width=t.width+"px",e.style.height=t.height+"px",o.insertAdjacentElement("afterend",e),zt||((t=document.createElement("style")).innerHTML="\n            ::-webkit-scrollbar,\n            ::-webkit-scrollbar-track,\n            ::-webkit-scrollbar-thumb,\n            ::-webkit-scrollbar-thumb:hover {\n                display: none;\n            }\n        ",document.head.appendChild(t),zt=t);o=Number(o.style.zIndex),o=r?o+1:o-1;return e.style.zIndex=o,Qt.init(e),e}).bouncingEffectPreventer=Qt,(N=function e(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(dn(this,e),!t.nodeName)throw new Error("Mk Error: argv 1 must be valid html tag.");var o=r.scaleRatio,i=r.center,o=o||.9;this.transformer=new Ge(t,{transformOrigin:i||8}),this.disabled=!1,this.touchstartEvent=null,this.touchendEvent=null;var a=void 0,s=void 0;this.updateCallback=function(e){var t=e.start,e=e.end;t&&(a=t),e&&(s=e)};function u(e){n.disabled||(n.touchstartEvent=e,n.transformer.update({sx:o,sy:o}),a?a(n):r.start&&r.start(n))}this.transformer.transformElement.addEventListener("touchstart",u,{passive:!0});function c(e){n.disabled||(n.touchendEvent=e,n.transformer.update({sx:1,sy:1}),"image"===t.nodeName&&!document.elementsFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY).find(function(e){return e===t})||(s?s(n):r.end&&r.end(n)))}this.transformer.transformElement.addEventListener("touchend",c,!0);this.destoryEventListener=function(){n.transformer.transformElement.removeEventListener("touchend",c,!0),n.transformer.transformElement.removeEventListener("touchstart",u,{passive:!0})},this.id=Ve(),e.All[this.id]=this}).All={};var en=Me.setShow,tn=Me.setHide;(N={Emitter:$,View:Ce,Camera:Ee,Layer:ut,Transformer:Ge,StaticHelper:Me,Timer:Se,Audio:{UseBgm:wt,UseEffectSound:kt,UseNormalSound:St,UseGlobalClickSound:Le},Visual:{UseSpark:Oe,UseSteppedImg:Re,UseSlotableImg:Be,UseStatedImg:Pe,UseStatedCss:function(e,n,r){if(!r)throw new Error("Mk Error: no states provided.");r.default||console.warn("%c Mk Warn: No default state provided, may cause error in iOS.","background: pink; color: blue"),console.log(e,n,r);var o=je(e);o.style.transformOrigin=Ye(o,5,!0),n&&(o.style.transition=n);var i,a={};for(i in r)!function(){var t=r[i];a[i]=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n)return e.next=3,new Promise(function(e){o.addEventListener("transitionend",e,{once:!0}),Ot(t,o)});e.next=6;break;case 3:return e.abrupt("return",e.sent);case 6:Ot(t,o);case 7:case"end":return e.stop()}},e,w)}))}();e=Ve();return o.setAttribute("statedcssid",e),{state:a,_id:e,statedElement:o,setTransition:function(e){o.style.transition=e,n=e}}},UseBlur:function(e,t){if(!t||!t.deviation)return console.error("deviation is not set.");console.log(e,t);var n=je(e),r=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=e.getBBox(),i=Ve();r.innerHTML=(e=i,t=t,'\n    <filter\n        filterres="1" \n        width="'+((o=o).width+4*t.deviation)+'" \n        height="'+(o.height+4*t.deviation)+'" \n        x="'+(o.x-2*t.deviation)+'" \n        y="'+(o.y-2*t.deviation)+'" \n        id="'+e+'" \n        filterUnits="userSpaceOnUse">\n\n        <feGaussianBlur stdDeviation="'+t.deviation+'"></feGaussianBlur>'+(t.exponent&&t.amplitude?'\n            <feComponentTransfer>\n                <feFuncA type="gamma" exponent="'+t.exponent+'" amplitude="'+t.amplitude+'" />\n            </feComponentTransfer>\n            ':"")+"</filter>\n    "),n.setAttribute("filter","url(#"+i+")"),n.appendChild(r)}},Library:{LoadImageSrc:Ie,GetSvgCoorByViewboxPos:Ue,UseResponsiveWidth:function(e){var t=e.ownerSVGElement,n=Fe(t),r=e.getAttribute("x"),n=r-(r-n),t=De(t),t=window.innerWidth*t;return e.setAttribute("x",n),e.setAttribute("width",t),{x:n,width:t}},UseResponsivePosition:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=new Ge(e),r=n*(window.innerWidth/100),n=e.transformElement.getBoundingClientRect(),o=n.width,i=n.height,a=window.innerWidth,s=window.innerHeight,u=void 0;switch(t){case 1:u=[r,r];break;case 2:u=[a/2-o/2,r];break;case 3:u=[a-o-r,r];break;case 4:u=[r,s/2-i/2];break;case 5:u=[a/2-o/2,s/2-i/2];break;case 6:u=[a-o-r,s/2-i/2];break;case 7:u=[r,s-i-r];break;case 8:u=[a/2-o/2,s-i-r];break;case 9:u=[a-o-r/2,s-i-r]}return e.toCoorViewBox(u[0],u[1]),e},UseDef:function(n,r,o){var e=n.parentElement,t=document.createElementNS("http://www.w3.org/2000/svg","defs");n.id=Ve(),t.appendChild(n),e.appendChild(t);return{id:n.id,element:n,spawn:function(){var e=Ve(),t=document.createElementNS("http://www.w3.org/2000/svg","use");return t.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+n.id),t.setAttribute("spawnid",e),r.appendChild(t),o&&o(t),t}}},UseDefJs:function(n,e,r){var t=n.parentElement,o=n.ownerSVGElement;t.removeChild(n),n.id=Ve();var i=e||o,a={};return{id:n.id,element:n,spawn:function(){var e=Ve(),t=n.cloneNode(!0);return t.id=e,i.appendChild(t),a[t.id]=t,r&&r(t),t},allInstance:a}},TwoPointsOfAngle:qt,TwoPointsOfDistance:Ht,TwoPointsUnitVector:function(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new Error("Entered Vector2 is/are not in Array type.");var n=Ht(e,t),t=[e[0]-t[0],e[1]-t[1]];return[t[0]/n,t[1]/n]},TwoDCollisionDetection:function(e,t){e=[e,t].map(function(e){return e.getBoundingClientRect()}),t=sn(e,2),e=t[0],t=t[1];if(!e||!t)throw new Error("Mk Error: 2dRectCollisionDetection missing boundingClientRect");return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y},ValueWatch:function(e,r){return new Proxy(e,{set:function(e,t,n){try{r(t,n)}catch(e){console.error(e)}return e[t]=n,!0}})},ValueLerp:Wt,ValueLerpPreset:Xe,Ios:function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},GetElementsAlignValue:function(e,t){var n=(t=t||{}).direction,o=void 0===n?"right":n,n=t.padding,i=void 0===n?0:n,t=t.returnCoor,t=void 0!==t&&t,a=e.map(function(e){return e.getBBox()}),e=e[0].getBBox(),r=e.width,s=e.height;a.every(function(e){return"horizontal"===o?e.width===r:e.height===s})||console.warn("getElementsAlignValue: Not all elements are at same size, use with caution!.");var u,c=[];return a.reduce(function(e,t,n){var r="right"===o||"left"===o?t.width:t.height;switch(o){case"right":return c.push(e),e+r+i;case"left":return 0===n?(c.push(0),-i-(a[n+1]?a[n+1].width:0)):(c.push(e),e-(i+(a[n-1]?a[n-1].width:i)));case"up":return 0===n?(c.push(0),-i-(a[n+1]?a[n+1].height:0)):(c.push(e),e-(i+(a[n+1]?a[n+1].height:i)));case"bottom":return c.push(e),e+r+i}},0),t&&(u=a[0],c=c.map(function(e){switch(o){case"right":return{x:u.x+e,y:u.y};case"left":return{x:u.x-e,y:u.y};case"up":return{x:u.x,y:u.y-Math.abs(e)};case"bottom":return{x:u.x,y:u.y+Math.abs(e)}}})),c},ForeignObjectToOverlayDiv:Ne,GetBboxFromBRect:Jt},Button:N,CircularMover:function e(t,n){dn(this,e);var r=t.getBoundingClientRect(),o=n.getBoundingClientRect(),i={x:r.x+r.width/2,y:r.y+r.height/2},r={x:o.x+o.width/2,y:o.y+o.height/2},o=t.ownerSVGElement,a=n.getBBox(),s=Ue(o,[i.x,i.y]),t=Ue(o,[r.x,r.y]),u=(i=s,r=sn(o=t,2),t=r[0],o=r[1],r=sn(i,2),i=r[0],r=r[1],i=Math.abs(t-i),r=Math.abs(o-r),Math.hypot(i,r));this.updatePosByDeg=function(e){var t=e*(Math.PI/180),e=function(e,t,n,r){return{x:n*Math.cos(r)+e,y:n*Math.sin(r)+t}}.apply(void 0,ln(s).concat([u,t])),t=e.x-(a.x+a.width/2),e=e.y-(a.y+a.height/2);n.style.transform="translate("+t+"px, "+e+"px)"},this.getDegreeBetween2Points=$t},Slotable:function e(t,a,n){var r=this;dn(this,e);var o=(n=n||{}).stickToOriginWhenNotOnSlot,s=void 0===o||o,o=n.goBackToOriginEvenOnSlot,u=void 0!==o&&o,o=n.allowDragOutFromSlot,c=void 0!==o&&o,o=n.slotReusable,l=void 0!==o&&o,o=n.boundingScale,d=void 0===o?1:o,f=n.enterSlot,h=n.leaveSlot,p=n.matchedCb,m=n.start,v=n.move,g=n.end,y={};a.forEach(function(e){var t=Ve();e.dataset.hash=t,y[t]=[e]});n=t.map(function(e){return new Ge(e)});this.elementsForDrag=t,this.elementsForSlot=a;var i,w,x=!0,_=void 0,b=!1;this.checkIsOverSlot=function(e){1<e.targetTouches.length||!x||(x=!1,i=e.targetTouches[0],requestAnimationFrame(function(){0<(w=document.elementsFromPoint(i.clientX,i.clientY).filter(function(t){return a.find(function(e){return e===t})})).length&&!b?(_=w[0],f&&f(_),b=!0):w.length<1&&b&&(h&&h(_),_=null,b=!1),x=!0}))},console.log("(!enterSlot && !leaveSlot)",!f&&!h),this.draggablesOfElementForDrag=n.map(function(i){return new Mt(i,{start:function(e){m&&m(e,i)},move:f||h?function(e){return r.checkIsOverSlot(e),v&&v(e,i),!1}:void 0,end:function(r){var o=this;return cn(nn.default.mark(function e(){var t,n;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.currentTarget.getBoundingClientRect(),t={x:t.x+t.width/2,y:t.y+t.height/2},t=(t=document.elementsFromPoint(t.x,t.y).filter(function(e){return e.ownerSVGElement})).filter(function(e){return-1<a.indexOf(e)}),g&&g(r,i),1<t.length)return e.abrupt("return",console.error("Multiple matched slots detected."));e.next=8;break;case 8:if(!(t.length<1)){e.next=16;break}if(c)return e.next=12,i.restore();e.next=13;break;case 12:return e.abrupt("return",!0);case 13:return e.abrupt("return",!s);case 16:if(n=t[0],y[n.dataset.hash][1]){e.next=21;break}y[n.dataset.hash][1]=i,e.next=31;break;case 21:if(!l){e.next=29;break}if(y[n.dataset.hash][1]!=i)return y[n.dataset.hash][1].transformElement.style.pointerEvents="all",e.next=26,y[n.dataset.hash][1].restore();e.next=27;break;case 26:y[n.dataset.hash][1]=i;case 27:e.next=31;break;case 29:if(y[n.dataset.hash][1])return e.abrupt("return");e.next=31;break;case 31:if(c||(i.transformElement.style.pointerEvents="none"),u){e.next=38;break}return i.boundToRect(Jt(n),d),p&&p(n,i),e.abrupt("return",!0);case 38:return p&&p(n,i),e.abrupt("return",!1);case 40:case"end":return e.stop()}},e,o)}))()}})}),this.destroyListener=function(){r.draggablesOfElementForDrag.forEach(function(e){e.destroyListener()})}},Draggable:Mt,DraggableInRect:function e(t,n,o){var r=this;dn(this,e);var i=De(t),a=je(n),s=t.getBoundingClientRect(),t=n.getBoundingClientRect(),u=Math.abs(t.x)*i,c=-(t.width-Math.abs(t.x)-s.width)*i,l=Math.abs(t.y)*i,d=-(t.height-Math.abs(t.y)-s.height)*i;this.customStartPt=!1;var f=void 0;n.addEventListener("touchstart",function(e){o&&o.cbStart&&o.cbStart();e=e.touches[0];f=r.customStartPt?{x:e.clientX-f.x,y:e.clientY-f.y}:{x:e.clientX,y:e.clientY}});var h,p={x:0,y:0};n.addEventListener("touchmove",function(e){o&&o.cbMove&&o.cbMove();var e=e.targetTouches[0],n=((h={x:e.clientX,y:e.clientY}).x-f.x)*i,r=(h.y-f.y)*i;requestAnimationFrame(function(){var e=void 0;n<0&&(e=n+p.x<=c?c:n+p.x),0<n&&(e=n+p.x>=u?u:n+p.x);var t=void 0;0<r&&(t=r+p.y>=l?l:r+p.y),r<0&&(t=r+p.y<=d?d:r+p.y),a.style.transform="translate("+e+"px, "+t+"px)"})}),n.addEventListener("touchend",function(t){requestAnimationFrame(function(){o&&o.cbEnd&&o.cbEnd();var e=t.changedTouches[0];p={x:e.clientX,y:e.clientY};e=window.getComputedStyle(n.parentNode).transform.replace("matrix(","").replace(")","").split(",").map(function(e){return Number(e)});p.x=e[4]||"",p.y=e[5]||"",r.customStartPt&&m()})});var m=function(){r.customStartPt=!1};this.moveXYDistance=function(e,t){if(!e||!t)throw new Error("x or y travel distance is not defined");a.style.transform="translate("+e+"px, "+t+"px)",e=e,t=t,r.customStartPt=!0,f={x:e,y:t}}},DraggableInertia:function e(n,t){var r=this;dn(this,e);var o=t||{},t=o.bouncingEffect,i=void 0===t||t,t=o.multiplyRatio,a=void 0===t?2:t,t=o.diffRatio,s=void 0===t?.3:t,t=o.direction,u=o.limitX,c=o.limitY,l=o.start,d=o.move,f=o.end,h=De(n),p=!1;this.coorX=0,this.coorY=0,this.draggableElement=n;var m={};n.addEventListener("touchstart",function(e){n.style.transition="",m={x:e.touches[0].clientX,y:e.touches[0].clientY},p=!0,requestAnimationFrame(T),l&&l(e,r)});var v={};n.addEventListener("touchmove",function(e){v={x:e.touches[0].clientX,y:e.touches[0].clientY},d&&d(e,r)}),n.addEventListener("touchend",function(e){p=!1,Object.keys(v).length<1&&(v=m),y(v,m),m=v=b={},f&&f(e,r)});var g,y=function(e,t){n.style.transition="transform 0.4s cubic-bezier(0, 1.16, 1, 1)",g={x:e.x-t.x,y:e.y-t.y},r.coorX+=g.x*a*h,r.coorY+=g.y*a*h,_(),x()};(!u||Array.isArray(u)&&2===u.length&&u.every(function(e){return"number"==typeof e}))&&(!c||Array.isArray(c)&&2===c.length&&c.every(function(e){return"number"==typeof e}))||console.error("limitX and limitY can only be array of 2 of number.");var w,x=u||c?"horizontal"===t?function(){return n.style.transform="translate3d("+r.coorX+"px, 0px, 1px)"}:"vertical"===t?function(){return n.style.transform="translate3d(0px, "+r.coorY+"px, 1px)"}:function(){return n.style.transform="translate3d("+r.coorX+"px, "+r.coorY+"px, 1px)"}:"horizontal"===t?function(){return n.style.transform="translate3d("+r.coorX+"px, 0px, 1px)"}:"vertical"===t?function(){return n.style.transform="translate3d(0px, "+r.coorY+"px, 1px)"}:(console.warn("Invalid direction param."),function(){return n.style.transform="translate3d("+r.coorX+"px, "+r.coorY+"px, 1px)"}),_=function(){u&&(r.coorX<u[0]?r.coorX=u[0]:r.coorX>u[1]&&(r.coorX=u[1])),c&&(r.coorY<c[0]?r.coorY=c[0]:r.coorY>c[1]&&(r.coorY=c[1]))},b={},A=!1,k=0,E=0,T=function e(){A||(A=!0,(b={x:Math.floor((v.x||m.x)-m.x),y:Math.floor((v.y||m.y)-m.y)}).x=isNaN(b.x)?0:b.x,b.y=isNaN(b.y)?0:b.y,w={x:Math.floor(b.x*s),y:Math.floor(b.y*s)},r.coorX=r.coorX+w.x*h,r.coorY=r.coorY+w.y*h,r.coorX=isNaN(r.coorX)?k:r.coorX,r.coorY=isNaN(r.coorY)?E:r.coorY,i||_(),r.coorX&&(k=r.coorX),r.coorY&&(E=r.coorY),x(),m={x:m.x+w.x,y:m.y+w.y},A=!1,p&&requestAnimationFrame(e))};this.updateToPos=function(e,t){r.coorX=e||0,r.coorY=t||0,i||_(),x()}},GaugeElement:function e(a,r,s){var u=this;if(dn(this,e),!Array.isArray(a))return console.error("imageElements must be instance of Array.");this.maxLevel=a.length,this.transformersOfEle=a.map(function(e){return new Ge(e)}),this.level=function(){return console.warn("Level function is not yet ready.")},cn(nn.default.mark(function e(){var t,n,o,i;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(r)||!Array.isArray(s)){e.next=15;break}if(r.length!==s.length)return e.abrupt("return",console.error("replacer length must match the length of originer."));e.next=3;break;case 3:return e.next=5,Promise.all(r.map(function(){var t=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=window.URL,e.next=3,fetch(t);case 3:return e.next=5,e.sent.blob();case 5:return e.t1=e.sent,e.abrupt("return",e.t0.createObjectURL.call(e.t0,e.t1));case 7:case"end":return e.stop()}},e,u)}));return function(e){return t.apply(this,arguments)}}()));case 5:return t=e.sent,console.log("replacerBlobLink_s",t),e.next=9,Promise.all(s.map(function(){var t=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=window.URL,e.next=3,fetch(t);case 3:return e.next=5,e.sent.blob();case 5:return e.t1=e.sent,e.abrupt("return",e.t0.createObjectURL.call(e.t0,e.t1));case 7:case"end":return e.stop()}},e,u)}));return function(e){return t.apply(this,arguments)}}()));case 9:n=e.sent,console.log("originBlobLink_s",n),t.forEach(function(e,t){a[t].setAttributeNS("http://www.w3.org/1999/xlink","href",e),a[t].dataset.pathreplace=e,a[t].dataset.pathorigin=n[t]}),u.level=function(n,e){if(n<0||n>a.length)return console.warn("level of step out of range.");var r=[];a.forEach(function(e,t){n<=t?e.getAttribute("xlink:href")!==e.dataset.pathreplace&&(e.setAttributeNS("http://www.w3.org/1999/xlink","href",e.dataset.pathreplace),r.push(t)):e.getAttribute("xlink:href")!==e.dataset.pathorigin&&(e.setAttributeNS("http://www.w3.org/1999/xlink","href",e.dataset.pathorigin),r.push(t))}),e&&e(r.map(function(e){return u.transformersOfEle[e]}))},e.next=54;break;case 15:if(i=o=void 0,"string"==typeof r)return e.t0=window.URL,e.next=20,fetch(r);e.next=26;break;case 20:return e.next=22,e.sent.blob();case 22:e.t1=e.sent,o=e.t0.createObjectURL.call(e.t0,e.t1),e.next=34;break;case 26:if("object"===(void 0===r?"undefined":on(r)))return e.t2=window.URL,e.next=30,fetch(r.getAttribute("xlink:href"));e.next=34;break;case 30:return e.next=32,e.sent.blob();case 32:e.t3=e.sent,o=e.t2.createObjectURL.call(e.t2,e.t3);case 34:if("string"==typeof s)return e.t4=window.URL,e.next=38,fetch(s);e.next=44;break;case 38:return e.next=40,e.sent.blob();case 40:e.t5=e.sent,i=e.t4.createObjectURL.call(e.t4,e.t5),e.next=52;break;case 44:if("object"===(void 0===s?"undefined":on(s)))return e.t6=window.URL,e.next=48,fetch(s.getAttribute("xlink:href"));e.next=52;break;case 48:return e.next=50,e.sent.blob();case 50:e.t7=e.sent,i=e.t6.createObjectURL.call(e.t6,e.t7);case 52:a.forEach(function(e){return e.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}),u.level=function(n,e){if(n<0||n>a.length)return console.warn("level of step out of range.");var r=[];a.forEach(function(e,t){n<=t?e.getAttribute("xlink:href")!==o&&(e.setAttributeNS("http://www.w3.org/1999/xlink","href",o),r.push(t)):e.getAttribute("xlink:href")!==i&&(e.setAttributeNS("http://www.w3.org/1999/xlink","href",i),r.push(t))}),e&&e(r.map(function(e){return u.transformersOfEle[e]}))};case 54:case"end":return e.stop()}},e,u)}))()},Gauge:function e(i,a,t,n){var s=this;if(dn(this,e),"x"!==i&&"y"!==i)throw new Error('Direction of gauge must be either "x" or "y".');var r,u=new Ge(t),c=n?new Ge(n):null;this.level=(r=cn(nn.default.mark(function e(t){var n,r,o;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a-t*a,l&&d)return r=u.current(),o=n-r["trans"+i.toUpperCase()],e.next=6,Xe(l,d,function(e){u.update({x:r["trans"+i.toUpperCase()]+o*e}),c&&c.update({x:r["trans"+i.toUpperCase()]+o*e})});e.next=8;break;case 6:e.next=10;break;case 8:u.update(un({},i,n)),c&&c.update(un({},i,n));case 10:case"end":return e.stop()}},e,s)})),function(e){return r.apply(this,arguments)}),this.setTransition=function(e){u.setTransition(e),c&&c.setTransition(e)};var l=void 0,d=void 0;this.setTransitionVP=function(e,t){l=e,d=t},this.level(0)},LineDrawer:function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};dn(this,e);var r=document.createElementNS("http://www.w3.org/2000/svg","polyline");r.style.pointerEvents="none",Object.entries(n).forEach(function(e){var t=sn(e,2),e=t[0],t=t[1];r.style[e]=t}),this.pathTag=r;var o=[],i=[];t.appendChild(r),this.current=function(e){i=e,Kt(r,[].concat(ln(o),[i]))},this.addPoint=function(e){o.push(e),Kt(r,[].concat(ln(o),[i]))},this.getArr=function(){return o},this.pop=function(){o.pop(),Kt(r,[].concat(ln(o),[i]))},this.shift=function(){o.shift(),Kt(r,[].concat(ln(o),[i]))},this.lastPoint=function(){var e=[].concat(ln(o),[i]);return 0<e[e.length-1].length?e[e.length-1]:e[e.length-2]},this.reset=function(){Kt(r,[].concat(ln(o=[])))}},PathGrower:function e(t,n){var r=n.transition,o=void 0===r?"stroke-dashoffset 1s linear":r,n=n.isReverse,n=void 0!==n&&n;if(dn(this,e),"path"!==t.nodeName)throw new Error("Mk Error: svgPath is for svg Path element only.");var i=t.getTotalLength();this.animateElement=t,this.pathLength=i,n?(t.style.strokeDasharray=i,t.style.strokeDashoffset=0,this.play=function(){t.style.transition=o,t.style.strokeDashoffset=i},this.rewind=function(){t.style.transition=o,t.style.strokeDashoffset=0},this.reset=function(){t.style.transition="",t.style.strokeDashoffset=0}):(t.style.strokeDasharray=i,t.style.strokeDashoffset=i,this.play=function(){console.log("transitionString",o),t.style.transition=o,t.style.strokeDashoffset=0},this.rewind=function(){t.style.transition=o,t.style.strokeDashoffset=i},this.reset=function(){t.style.transition="",t.style.strokeDashoffset=i}),this.setTransition=function(e){return t.style.transition=e},this.toPercentage=function(e){t.style.strokeDashoffset=e*i}},PathOnMover:function e(t,n,r){var o=this;dn(this,e);var i=(r=r||{}).stayAfterFinish,a=r.deletePath,s=r.rotate,u=r.repeatCount,c=void 0===u?"indefinite":u,r=r.dur,l=void 0===r?1:r;if("path"!==n.nodeName)return console.error("svgPath is for svg Path element only.");r=t.getBBox();0===r.x&&0===r.y||(console.warn("element must be placed in (x: 0, y: 0), \n            otherwise unexpected behaviour will occur. \n            And now x,y is replaced by 0,\n            please confirm there is no error."),r.setAttribute("x","0"),r.setAttribute("y","0"));var d=document.createElementNS("http://www.w3.org/2000/svg","animateMotion");d.setAttribute("path",n.getAttribute("d")),a&&n.parentElement.removeChild(n),s&&d.setAttribute("rotate","auto"),i&&d.setAttribute("fill","freeze"),d.setAttribute("repeatCount",c);var f,h=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=t.parentElement,s=Array.from(r.children),i=s.indexOf(t);t.appendChild(d),h.appendChild(t),!(s.length<1)&&(f=r.children[i])?r.insertBefore(h,f):r.appendChild(h),this.element=t,a||(this.path=n),this.pause=function(){return h.pauseAnimations()},this.resume=function(){return h.unpauseAnimations()},this.animateElement=d,this.play=function(){return new Promise(function(e){o.resume(),d.removeAttribute("keyPoints","1;0"),d.removeAttribute("keyTimes","0;1"),d.removeAttribute("calcMode","linear"),d.setAttribute("dur",l+"s"),d.beginElement(),d.beginElementAt(0),setTimeout(e,1e3*l)})},this.reverse=function(){return new Promise((t=cn(nn.default.mark(function e(t){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.resume(),o.play(),d.setAttribute("keyPoints","1;0"),d.setAttribute("keyTimes","0;1"),d.setAttribute("calcMode","linear"),d.beginElementAt(0),"indefinite"===c?t():setTimeout(t,1e3*l);case 7:case"end":return e.stop()}},e,o)})),function(e){return t.apply(this,arguments)}));var t}},ShowToggler:function e(o,t){var n,i,r,a=this;dn(this,e),t=t||{},Array.isArray(o)?(n=t.defaultIndex,this.elements=o,this.length=o.length,this.setTransition=function(t){return o.forEach(function(e){return e.style.transition=t})},this.toggleTo=function(r){return r<0||r>o.length?console.error("Index inputed is out of range"):(i=r,Promise.all(o.map((n=cn(nn.default.mark(function e(t,n){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n===r)return e.next=3,en(t);e.next=6;break;case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,tn(t);case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,a)})),function(e,t){return n.apply(this,arguments)}))));var n},i=0,this.toggleTo(isNaN?i:n),this.next=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return++i>a.length-1&&(i=0),e.next=4,a.toggleTo(i);case 4:case"end":return e.stop()}},e,a)})),this.prev=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return--i<0&&(i=a.length-1),e.next=4,a.toggleTo(i);case 4:case"end":return e.stop()}},e,a)}))):(this.element=o,r=!0,this.toggle=function(){return r?a.hide():a.show()},this.show=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en(o);case 2:r=!r;case 3:case"end":return e.stop()}},e,a)})),this.hide=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn(o);case 2:r=!r;case 3:case"end":return e.stop()}},e,a)})),this.setTransition=function(e){return o.style.transition=e},t.defaultHide&&this.hide())},DirectionalTouch:function e(t,n){var r=this;dn(this,e);var o=n||{},n=o.directions,i=o.onDrag;if(4!==n&&8!==n)return console.error("direction not allowed.");function a(e){s=e,i&&i(e)}var s=null,u=4===n?function(e){e<45&&-45<e?"left"!==s&&a("left"):45<e&&e<135?"top"!==s&&a("top"):-135<e&&e<-45?"down"!==s&&a("down"):"right"!==s&&a("right")}:function(e){e<22.5&&-22.5<e&&"left"!==s&&a("left"),22.5<e&&e<67.5?"topLeft"!==s&&a("topLeft"):67.5<e&&e<112.5?"top"!==s&&a("top"):112.5<e&&e<157.5?"topRight"!==s&&a("topRight"):e<-22.5&&-67.5<e?"downLeft"!==s&&a("downLeft"):e<-67.5&&-112.5<e?"down"!==s&&a("down"):e<-112.5&&-157.5<e?"downRight"!==s&&a("downRight"):(157.5<e||e<-157.5)&&"right"!==s&&a("right")},c=void 0;t.addEventListener("touchstart",function(e){c={x:e.touches[0].clientX,y:e.touches[0].clientY},i("start")},{passive:!0});var l,d=void 0,n=(l=cn(nn.default.mark(function e(t){var n;return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d={x:t.touches[0].clientX,y:t.touches[0].clientY},n=qt(d,c),u(n);case 3:case"end":return e.stop()}},e,r)})),function(e){return l.apply(this,arguments)});t.addEventListener("touchmove",n,{passive:!0});var f,n=(f=cn(nn.default.mark(function e(){return nn.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d=c=null,i(s="end");case 3:case"end":return e.stop()}},e,r)})),function(){return f.apply(this,arguments)});t.addEventListener("touchend",n,!0)},RectMaze:function e(t,n){var i=this;dn(this,e);var r=n||{},n=r.xPos,a=void 0===n?0:n,n=r.yPos,s=void 0===n?0:n,u=r.unavailableCheckCb;if(!u)throw Error('"unavailableCheckCb" must be provided.');var t=Array.from(t.children),c=t.map(function(e){return Array.from(e.children).map(function(e){return{element:e,bBox:e.getBBox()}})}),l=t.length,d=t[0].length;this.currentPos=function(){return{x:a,y:s}},this.currentBox=function(){return c[s][a].bBox},this.currentEle=function(){return c[s][a].element},this.to=function(e){var t=a,n=s,r=void 0,o=void 0;switch(e){case 0:case"top":if(s<=0)return null;n=s-1,r=[[a,s],[a+1,s]],o="vertical";break;case 1:case"right":if(d<=a)return null;r=[[a+1,s],[a+1,s+1]],o="horizontal",t=a+1;break;case 2:case"down":if(l<=s)return null;r=[[a,s+1],[a+1,s+1]],o="vertical",n=s+1;break;case 3:case"left":if(a<=0)return null;r=[[a,s],[a,s+1]],o="horizontal",t=a-1}e=!!u(c[n][t].element,{from:{x:r[0][0],y:r[0][1]},to:{x:r[1][0],y:r[1][1]},direction:o,enteredDirection:e});return e&&(a=t,s=n),{allowMove:e,currentBox:i.currentBox(),currentEle:i.currentEle()}}}}).previous={v3:le},window.AiJs=N}()}).call(this)}).call(this,n("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:5,"babel-runtime/regenerator":4}],2:[function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=e("./runtime"),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},{"./runtime":3}],3:[function(e,S,t){!function(e){"use strict";var u,c,l,d,f,h,t,n=Object.prototype,p=n.hasOwnProperty,r=(a="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag",a="object"==typeof S,s=e.regeneratorRuntime;function m(e,t,n,r){var o,i,a,s,t=t&&t.prototype instanceof g?t:g,t=Object.create(t.prototype),r=new k(r||[]);return t._invoke=(o=e,i=n,a=r,s=c,function(e,t){if(s===d)throw new Error("Generator is already running");if(s===f){if("throw"===e)throw t;return T()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(r===u){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}r=v(r,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var r=r.arg;if(!r)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h;{if(!r.done)return r;n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u)}n.delegate=null;return h}(n,a);if(r){if(r===h)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===c)throw s=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=d;r=v(o,i,a);if("normal"===r.type){if(s=a.done?f:l,r.arg!==h)return{value:r.arg,done:a.done}}else"throw"===r.type&&(s=f,a.method="throw",a.arg=r.arg)}}),t}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function g(){}function y(){}function w(){}function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function _(a){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,o){e=v(a[e],a,n);if("throw"!==e.type){var i=e.arg,n=i.value;return n&&"object"==typeof n&&p.call(n,"__await")?Promise.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):Promise.resolve(n).then(function(e){i.value=e,r(i)},o)}o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,e=function e(){for(;++n<t.length;)if(p.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e};return e.next=e}}return{next:T}}function T(){return{value:u,done:!0}}s?a&&(S.exports=s):((s=e.regeneratorRuntime=a?S.exports:{}).wrap=m,c="suspendedStart",l="suspendedYield",d="executing",f="completed",h={},(e={})[r]=function(){return this},(a=(a=Object.getPrototypeOf)&&a(a(E([]))))&&a!==n&&p.call(a,r)&&(e=a),t=w.prototype=g.prototype=Object.create(e),(y.prototype=t.constructor=w).constructor=y,w[i]=y.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(t),e},s.awrap=function(e){return{__await:e}},x(_.prototype),_.prototype[o]=function(){return this},s.AsyncIterator=_,s.async=function(e,t,n,r){var o=new _(m(e,t,n,r));return s.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(t),t[i]="Generator",t[r]=function(){return this},t.toString=function(){return"[object Generator]"},s.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&p.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=p.call(o,"catchLoc"),s=p.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&p.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,A(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),h}})}(function(){return this}()||Function("return this")())},{}],4:[function(e,t,n){t.exports=e("regenerator-runtime")},{"regenerator-runtime":2}],5:[function(e,t,n){var r,o,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}]},{},[1]);